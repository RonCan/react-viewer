r!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=510)}([function(e,t,n){e.exports=n(508)()},,function(e,t,n){"use strict";e.exports=n(509)},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(479),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},,,,,function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(73),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(449)),o=a(n(445)),i=a(n(73));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},,function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(506)},,,,,,function(e,t,n){"use strict";(function(e){var r,o,i,a,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}window,a=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(t,n){t.exports=e},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)};function o(e){return void 0!==e&&null!==e}function i(e){return Array.isArray(e)}function a(e){return!i(e)&&e===Object(e)}t.isExist=o,t.isEmpty=function(e){return!o(e)||("string"==typeof e||e instanceof String?""===e.trim():!!Array.isArray(e)&&0===e.length)},t.isArray=i,t.isObject=a,t.invert=function(e){for(var t={},n=Object.keys(e),r=0,o=n.length;r<o;r+=1)t[e[n[r]]]=n[r];return t},t.nullSafeGet=function(e,t,n){var r=e;return o(e)?(t.every(function(e){return o(r[e])?(r=r[e],!0):(r=n,!1)}),r):n},t.nullSafeSet=function(e,t,n){var r=e;return o(r)||(r={}),t.forEach(function(e,i){i===t.length-1?r[e]=n:o(r[e])||(r[e]={}),r=r[e]}),e},t.debounce=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0;return function(){for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];var l=t;r&&!o&&e.apply(l,a),o&&(clearTimeout(o),o=null),o=setTimeout(function(){o=null,e.apply(l,a)},n)}},t.throttle=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1;return function(){for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];var l=t;o||(r?setTimeout(function(){return e.apply(l,a)},n):e.apply(l,a),o=!0,setTimeout(function(){o=!1},n))}};var l=t.cloneObject=function e(t){if(null===t||"object"!==(void 0===t?"undefined":r(t)))return t;var n=t.constructor();return Object.keys(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(t[r]))}),n};t.updateObject=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return o(t)?function e(t,n){var o=t;return a(t)&&a(n)?Object.keys(n).forEach(function(i){"object"!==r(n[i])||null==t[i]?o[i]=n[i]:o[i]=e(t[i],n[i])}):o=n,o}(n?l(e):e,t):e},t.hasIntersect=function(e,t){return e[0]<t[0]?e[1]>t[0]:t[1]>e[0]},t.makeSequence=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(e).keys()));return t>0?n.map(function(e){return e+t}):n}},function(e,t,n){e.exports=n(57)()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=a(n(15)),o=a(n(53)),i=a(n(46));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.connect=function(e){r.default.connect(e),o.default.connect(e),i.default.connect(e)};t.default={connect:u,calculations:r.default,setting:o.default,current:i.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SettingType=t.CurrentType=t.FooterCalculationsType=t.ContentCalculationsType=t.ContentType=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};t.default=o.default,t.ContentType=o.default.shape({index:o.default.number.isRequired,uri:o.default.string.isRequired,isContentLoaded:o.default.bool.isRequired,isContentOnError:o.default.bool.isRequired,content:o.default.string}),t.ContentCalculationsType=o.default.shape({index:o.default.number.isRequired,total:o.default.number,isCalculated:o.default.bool.isRequired}),t.FooterCalculationsType=o.default.shape({total:o.default.number,isCalculated:o.default.bool.isRequired}),t.CurrentType=o.default.shape({contentIndex:o.default.oneOfType([o.default.string,o.default.number]),position:o.default.number,offset:o.default.number.isRequired}),t.SettingType=o.default.shape({colorTheme:o.default.string.isRequired,font:o.default.string.isRequired,fontSizeInPx:o.default.number.isRequired,contentPaddingInPercent:o.default.number.isRequired,contentWidthInPercent:o.default.number.isRequired,lineHeightInEm:o.default.number.isRequired,viewType:o.default.string.isRequired,columnsInPage:o.default.number.isRequired,columnGapInPercent:o.default.number.isRequired,startWithBlankPage:o.default.number,maxWidth:o.default.number,containerHorizontalMargin:o.default.number,containerVerticalMargin:o.default.number})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.documentRemoveEventListener=t.documentAddEventListener=t.documentAppendChild=t.documentAddClassList=t.offsetHeight=t.offsetWidth=t.setScrollTop=t.scrollHeight=t.scrollTop=t.screenHeight=t.screenWidth=void 0;var r,o=n(1),i=(r=n(12))&&r.__esModule?r:{default:r},a={},u=function(e,t){return function(){return void 0===a[e]&&(a[e]=t()),a[e]}};window.addEventListener(i.default.RESIZE,(0,o.debounce)(function(){a={}},0));var l=t.screenWidth=u("screenWidth",function(){return window.innerWidth}),s=t.screenHeight=u("screenHeight",function(){return window.innerHeight}),c=t.scrollTop=function(){return document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop||document.body.scrollTop},f=t.scrollHeight=function(){return document.scrollingElement?document.scrollingElement.scrollHeight:document.documentElement.scrollHeight||document.body.scrollHeight},d=t.setScrollTop=function(e){document.scrollingElement?document.scrollingElement.scrollTop=e:(document.body.scrollTop=e,document.documentElement.scrollTop=e)},p=t.offsetWidth=function(){return document.body.offsetWidth},h=t.offsetHeight=function(){return document.body.offsetHeight},v=t.documentAddClassList=function(e){return document.body.classList.add(e)},m=t.documentAppendChild=function(e){return document.body.appendChild(e)},y=t.documentAddEventListener=function(e,t,n){return document.addEventListener(e,t,n)},g=t.documentRemoveEventListener=function(e,t,n){return document.removeEventListener(e,t,n)};t.default={screenWidth:l,screenHeight:s,scrollTop:c,scrollHeight:f,setScrollTop:d,offsetWidth:p,offsetHeight:h,documentAddClassList:v,documentAppendChild:m,documentAddEventListener:y,documentRemoveEventListener:g}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectReaderIsInitContents=t.selectReaderFooterCalculations=t.selectReaderCalculationsTotal=t.selectReaderIsCalculated=t.selectReaderContentsCalculations=t.selectReaderCurrentOffset=t.selectReaderCurrentContentIndex=t.selectReaderCurrent=t.selectReaderSetting=t.selectReaderBindingType=t.selectReaderContentFormat=t.selectReaderContents=void 0;var r,o=n(60),i=(r=n(30))&&r.__esModule?r:{default:r},a=n(1),u=n(8),l=function(e){return e.reader||{}};t.selectReaderContents=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.contents(),[])}),t.selectReaderContentFormat=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.contentFormat(),u.ContentFormat.HTML)}),t.selectReaderBindingType=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.bindingType(),u.BindingType.LEFT)}),t.selectReaderSetting=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.setting(),{})}),t.selectReaderCurrent=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.current(),{})}),t.selectReaderCurrentContentIndex=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.currentContentIndex(),1)}),t.selectReaderCurrentOffset=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.currentOffset(),0)}),t.selectReaderContentsCalculations=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.contentsCalculations(),[])}),t.selectReaderIsCalculated=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.isAllCalculated(),!1)}),t.selectReaderCalculationsTotal=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.calculationsTotal(),0)}),t.selectReaderFooterCalculations=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.footerCalculations(),{})}),t.selectReaderIsInitContents=(0,o.createSelector)([l],function(e){return(0,a.nullSafeGet)(e,i.default.isInitContents(),!1)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FOOTER_INDEX="footer",t.PRE_CALCULATION=-1},function(e,t,n){var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ContentFormat=t.BindingType=void 0;var i,a=(i=n(31))&&i.__esModule?i:{default:i},u=n(1);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={LEFT:0,RIGHT:1},c=(t.BindingType=(0,a.default)((0,u.updateObject)(s,{_LIST:[s.LEFT,s.RIGHT],_STRING_MAP:(r={},l(r,s.LEFT,"좌철"),l(r,s.RIGHT,"우철"),r)}),{}),{HTML:0,IMAGE:1});t.ContentFormat=(0,a.default)((0,u.updateObject)(c,{_LIST:[c.HTML,c.IMAGE],_STRING_MAP:(o={},l(o,c.HTML,"EPUB"),l(o,c.IMAGE,"이미지"),o)}),{})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.updateCalculationsTotal=t.updateFooterCalculation=t.updateContentCalculations=t.invalidateCalculations=t.updateContentError=t.updateContent=t.updateSetting=t.updateCurrent=t.setContents=t.onScreenScrolled=t.actions=void 0;var r=n(1),o=n(10),i=t.actions={SCROLLED:"READER:SCROLLED",SET_CONTENTS:"READER:SET_CONTENTS",UPDATE_SETTING:"READER:UPDATE_SETTING",UPDATE_CURRENT:"READER:UPDATE_CURRENT",UPDATE_CONTENT:"READER:UPDATE_CONTENT",UPDATE_CONTENT_ERROR:"READER:UPDATE_CONTENT_ERROR",INVALIDATE_CALCULATIONS:"READER:INVALIDATE_CALCULATIONS",UPDATE_CONTENT_CALCULATIONS:"READER:UPDATE_CONTENT_CALCULATIONS",UPDATE_FOOTER_CALCULATIONS:"READER:COMPLETE_FOOTER_CALCULATIONS",UPDATE_CALCULATIONS_TOTAL:"READER:UPDATE_CALCULATIONS_TOTAL"};t.onScreenScrolled=function(){return{type:i.SCROLLED}},t.setContents=function(e,t,n){return{type:i.SET_CONTENTS,contentFormat:e,bindingType:t,contents:n}},t.updateCurrent=function(e){return{type:i.UPDATE_CURRENT,current:e}},t.updateSetting=function(e){var t={};return(0,r.isExist)(e.fontSizeInPx)&&(t.fontSizeInPx=Math.min(Math.max(e.fontSizeInPx,o.FONT_SIZE_RANGE[0]),o.FONT_SIZE_RANGE[1])),(0,r.isExist)(e.contentPaddingInPercent)&&(t.contentPaddingInPercent=Math.min(Math.max(e.contentPaddingInPercent,o.CONTENT_PADDING_RANGE[0]),o.CONTENT_PADDING_RANGE[1])),(0,r.isExist)(e.contentWidthInPercent)&&(t.contentWidthInPercent=Math.min(Math.max(e.contentWidthInPercent,o.CONTENT_WIDTH_RANGE[0]),o.CONTENT_WIDTH_RANGE[1])),(0,r.isExist)(e.lineHeightInEm)&&(t.lineHeightInEm=Math.min(Math.max(e.lineHeightInEm,o.LINE_HEIGHT_RANGE[0]),o.LINE_HEIGHT_RANGE[1])),(0,r.isExist)(e.columnGapInPercent)&&(t.columnGapInPercent=Math.min(Math.max(e.columnGapInPercent,o.COLUMN_GAP_RANGE[0]),o.COLUMN_GAP_RANGE[1])),{type:i.UPDATE_SETTING,setting:Object.assign({},e,t)}},t.updateContent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:i.UPDATE_CONTENT,index:e,content:t,isAllLoaded:n}},t.updateContentError=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:i.UPDATE_CONTENT_ERROR,index:e,error:t,isAllLoaded:n}},t.invalidateCalculations=function(){return{type:i.INVALIDATE_CALCULATIONS}},t.updateContentCalculations=function(e,t){return{type:i.UPDATE_CONTENT_CALCULATIONS,index:e,total:t}},t.updateFooterCalculation=function(e){return{type:i.UPDATE_FOOTER_CALCULATIONS,total:e}},t.updateCalculationsTotal=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:i.UPDATE_CALCULATIONS_TOTAL,calculationsTotal:e,isCompleted:t}}},function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ViewType=t.ReaderThemeType=t.COLUMN_GAP_RANGE=t.LINE_HEIGHT_RANGE=t.CONTENT_WIDTH_RANGE=t.CONTENT_PADDING_RANGE=t.FONT_SIZE_RANGE=t.INVALID_OFFSET=t.INVALID_PAGE=t.EMPTY_READ_LOCATION=t.READERJS_CONTENT_WRAPPER=void 0;var o,i=(o=n(31))&&o.__esModule?o:{default:o},a=n(1);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.READERJS_CONTENT_WRAPPER="current_content",t.EMPTY_READ_LOCATION="-1#-1",t.INVALID_PAGE=-1,t.INVALID_OFFSET=-1,t.FONT_SIZE_RANGE=[12,48.9],t.CONTENT_PADDING_RANGE=[0,25],t.CONTENT_WIDTH_RANGE=[50,100],t.LINE_HEIGHT_RANGE=[1,3],t.COLUMN_GAP_RANGE=[1,20];var l={WHITE:"white_theme",IOS_SEPIA:"ios_sepia_theme",SEPIA:"sepia_theme",BLACKBOARD:"blackboard_theme",DARKGRAY:"darkgray_theme",BLACK:"black_theme",PAPER:"paper_theme",KOREAN_PAPER:"korean_paper_theme"},s=(t.ReaderThemeType=(0,i.default)((0,a.updateObject)(l,{_LIST:[l.WHITE,l.IOS_SEPIA,l.SEPIA,l.BLACKBOARD,l.DARKGRAY,l.BLACK,l.PAPER,l.KOREAN_PAPER]}),{}),{SCROLL:"scroll",PAGE:"page"});t.ViewType=(0,i.default)((0,a.updateObject)(s,{_LIST:[s.PAGE,s.SCROLL],_STRING_MAP:(r={},u(r,s.PAGE,"페이지 넘김"),u(r,s.SCROLL,"스크롤 보기"),r)}),{})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Connector=t.reducers=void 0;var r=n(9);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(6);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(8);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(10);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var u=c(n(59)),l=c(n(36)),s=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}t.reducers=l.default,t.Connector=s.default,t.default=u.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={CLICK:"click",SCROLL:"scroll",TOUCH_MOVE:"touchmove",MOUSE_WHEEL:"mousewheel",KEY_DOWN:"keydown",RESIZE:"resize",FOCUS:"focus",BLUR:"blur",ERROR:"error",CHANGE:"change",ANIMATION_END:"animationend",TRANSITION_END:"transitionend",WEBKIT_TRANSITION_END:"webkitTransitionEnd"}},function(e,n){e.exports=t},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(2)),i=s(n(3)),a=n(7),l=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.wrapper=r.default.createRef(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){this.onContentRendered()},t.prototype.componentDidUpdate=function(){this.onContentRendered()},t.prototype.onContentRendered=function(){(0,this.props.onContentRendered)(this.wrapper.current)},t.prototype.render=function(){var e=this.props,t=e.content,n=e.containerVerticalMargin,o=e.startOffset,u=i.default.setting.getStyledFooter();return r.default.createElement(u,{innerRef:this.wrapper,containerVerticalMargin:n,visible:o!==a.PRE_CALCULATION,startOffset:o,width:(0,l.screenWidth)()+"px"},t)},t}(r.default.PureComponent);t.default=c,c.defaultProps={content:null,onContentRendered:function(){}},c.propTypes={content:o.default.node,onContentRendered:o.default.func,startOffset:o.default.number.isRequired,containerVerticalMargin:o.default.number.isRequired}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(19))&&r.__esModule?r:{default:r},i=n(9),a=n(6),l=n(1),s=n(8),c=n(7);var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this));return n.startOffset={1:0},n.hasFooter=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.setHasFooter=function(e){this.hasFooter=e},t.prototype.getHasFooter=function(){return this.hasFooter},t.prototype.invalidate=function(){this.startOffset={1:0},this.dispatch((0,i.invalidateCalculations)())},t.prototype.isCompleted=function(){return(0,a.selectReaderIsCalculated)(this.getState())},t.prototype.isCalculated=function(e){return e===c.FOOTER_INDEX?(0,a.selectReaderFooterCalculations)(this.getState()).isCalculated:(0,a.selectReaderContentsCalculations)(this.getState())[e-1].isCalculated},t.prototype.getStartOffset=function(e){return"number"==typeof this.startOffset[e]?this.startOffset[e]:c.PRE_CALCULATION},t.prototype.setStartOffset=function(e,t){this.startOffset[e]=t},t.prototype.checkComplete=function(){if((0,a.selectReaderIsInitContents)(this.getState())){for(var e=(0,a.selectReaderContentsCalculations)(this.getState()),t=(0,a.selectReaderFooterCalculations)(this.getState()),n=(0,a.selectReaderContentFormat)(this.getState())===s.ContentFormat.HTML?e.every(function(e){return e.isCalculated}):e[0].isCalculated,r=!this.hasFooter||t.isCalculated,o=0;o<e.length;o+=1){var u=e[o],l=u.index,f=u.isCalculated,d=u.total;if(!f||"number"!=typeof this.getStartOffset(l))break;var p=l===e.length?c.FOOTER_INDEX:l+1;this.setStartOffset(p,this.getStartOffset(l)+d)}var h=e.reduce(function(e,t){return e+t.total},t.total);this.dispatch((0,i.updateCalculationsTotal)(h,n&&r))}},t.prototype.setTotal=function(e,t){this.isCalculated(e)||(this.dispatch(e===c.FOOTER_INDEX?(0,i.updateFooterCalculation)(t):(0,i.updateContentCalculations)(e,t)),this.checkComplete())},t.prototype.getTotal=function(e){return e===c.FOOTER_INDEX?(0,a.selectReaderFooterCalculations)(this.getState()).total:(0,a.selectReaderContentsCalculations)(this.getState())[e-1].total},t.prototype.getContentIndexesInOffsetRange=function(e,t){var n=(0,a.selectReaderCalculationsTotal)(this.getState()),r=[],o=[e,t],i=(0,a.selectReaderContentsCalculations)(this.getState()).length;if(this.isCompleted()&&e>n)return[i];for(var u=1;u<=i;u+=1){var s=u===i+1?c.FOOTER_INDEX:u,f=u===i?c.FOOTER_INDEX:u+1;if(void 0===this.getStartOffset(f))break;var d=[this.getStartOffset(s),s===c.FOOTER_INDEX?n:this.getStartOffset(f)];if((0,l.hasIntersect)(o,d))r.push(s);else if(this.getStartOffset(s)>t)break}return r},t.prototype.getIndexAtOffset=function(e){if(!this.isCompleted())return null;for(var t=Object.keys(this.startOffset).length,n=1;n<=t;n+=1){var r=n===t?c.FOOTER_INDEX:n,o=n>=t-1?c.FOOTER_INDEX:n+1;if(e>=this.getStartOffset(r)&&(r===c.FOOTER_INDEX||e<this.getStartOffset(o)))return r}return null},t.prototype.isLastContent=function(e){return e===(0,a.selectReaderContents)(this.getState()).length},t}(o.default);t.default=new f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=t.mapStateToProps=void 0;var r=h(n(0)),o=h(n(21)),i=n(1),a=n(6),l=n(20),s=n(4),c=h(s),f=h(n(12)),d=n(9),p=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.wrapper=r.default.createRef(),o.onContentLoaded=o.onContentLoaded.bind(o),o.onContentError=o.onContentError.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isCalculated,n=e.disableCalculation;t&&!n&&p.default.current.restoreCurrentOffset(),this.moveToOffset(),this.resizeReader=(0,i.debounce)(function(){n||p.default.calculations.invalidate()},o.default.RESIZE),window.addEventListener(f.default.RESIZE,this.resizeReader),p.default.current.setReaderJs()},t.prototype.componentDidUpdate=function(e){var t=e.isCalculated,n=e.current,r=this.props,o=r.isCalculated,i=r.current;o&&(t?n.offset!==i.offset&&this.moveToOffset():(p.default.current.restoreCurrentOffset(),this.moveToOffset())),p.default.current.setReaderJs()},t.prototype.componentWillUnmount=function(){window.removeEventListener(f.default.RESIZE,this.resizeReader)},t.prototype.onTouchableScreenTouched=function(e){e.position===l.Position.MIDDLE&&(0,this.props.onTouched)()},t.prototype.onContentLoaded=function(e,t){var n=this.props,r=n.contents,o=n.actionUpdateContent,i=r.every(function(t){return t.index===e||t.isContentLoaded||t.isContentOnError});o(e,t,i)},t.prototype.onContentError=function(e,t){var n=this.props,r=n.contents,o=n.actionUpdateContentError,i=r.every(function(t){return t.index===e||t.isContentLoaded||t.isContentOnError});o(e,t,i)},t.prototype.getTouchableScreen=function(){return null},t.prototype.moveToOffset=function(){},t.prototype.renderContents=function(){return null},t.prototype.renderFooter=function(){return null},t.prototype.render=function(){var e=this,t=this.props.calculationsTotal,n=this.getTouchableScreen();return r.default.createElement(n,{ref:this.wrapper,total:t,onTouched:function(t){return e.onTouchableScreenTouched(t)}},this.renderContents(),this.renderFooter())},t}(r.default.Component);t.default=v,v.defaultProps={onTouched:function(){}},v.propTypes={isCalculated:c.default.bool.isRequired,onTouched:c.default.func,disableCalculation:c.default.bool.isRequired,setting:s.SettingType.isRequired,current:s.CurrentType.isRequired,contents:c.default.arrayOf(s.ContentType).isRequired,actionUpdateContent:c.default.func.isRequired,actionUpdateContentError:c.default.func.isRequired,calculationsTotal:c.default.number.isRequired},t.mapStateToProps=function(e){return{isCalculated:(0,a.selectReaderIsCalculated)(e),setting:(0,a.selectReaderSetting)(e),current:(0,a.selectReaderCurrent)(e),contents:(0,a.selectReaderContents)(e),calculationsTotal:(0,a.selectReaderCalculationsTotal)(e)}},t.mapDispatchToProps=function(e){return{actionUpdateContent:function(t,n,r){return e((0,d.updateContent)(t,n,r))},actionUpdateContentError:function(t,n,r){return e((0,d.updateContentError)(t,n,r))}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StyledImagePageContent=t.StyledImageScrollContent=t.StyledHtmlPageContent=t.StyledHtmlScrollContent=void 0;var r=d(["\n  box-sizing: border-box;\n  margin: ",";\n  visibility: ","\n  \n  width: ",";\n  height: ",";\n  \n  .content_footer {\n    overflow: hidden;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 15px;\n    height: ",";\n    small {\n      font-size: 11px;\n    }\n  }\n"],["\n  box-sizing: border-box;\n  margin: ",";\n  visibility: ","\n  \n  width: ",";\n  height: ",";\n  \n  .content_footer {\n    overflow: hidden;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 15px;\n    height: ",";\n    small {\n      font-size: 11px;\n    }\n  }\n"]),o=d(["\n  ","\n  ","\n\n  position: absolute;\n  top: ",";\n"],["\n  ","\n  ","\n\n  position: absolute;\n  top: ",";\n"]),i=d(["\n  ","\n  ","\n  \n  .content_container {\n    width: ","\n  }\n"],["\n  ","\n  ","\n  \n  .content_container {\n    width: ","\n  }\n"]),a=d(["\n  ","\n  ","\n  margin: 0 auto;\n  .content_container {\n    margin: 0 auto;\n    width: ",";\n    img {\n      width: 100%;\n    }\n  }\n"],["\n  ","\n  ","\n  margin: 0 auto;\n  .content_container {\n    margin: 0 auto;\n    width: ",";\n    img {\n      width: 100%;\n    }\n  }\n"]),u=d(["\n  ","\n  ","\n  \n  margin: 0 auto;\n  .content_container {\n    &.two_images_in_page {\n      .comic_page {\n        &:nth-child(odd) { img { margin-right: 0; } }\n        &:nth-child(even) { img { margin-left: 0; } }\n      }\n    } \n    \n    .comic_page {\n      height: 100%;\n      img {\n        width: auto; height: auto;\n        max-width: 100%; max-height: 100%;\n        top: 50%;\n        transform: translate3d(0, -50%, 0);\n        position: relative;\n        margin: 0 auto;\n      }\n      &.has_content_footer {\n        img {\n          max-height: calc(100% - ",");\n          top: calc(50% - ","px);\n        }\n        .content_footer {\n          text-align: center;\n        }\n      }\n    }\n  }\n"],["\n  ","\n  ","\n  \n  margin: 0 auto;\n  .content_container {\n    &.two_images_in_page {\n      .comic_page {\n        &:nth-child(odd) { img { margin-right: 0; } }\n        &:nth-child(even) { img { margin-left: 0; } }\n      }\n    } \n    \n    .comic_page {\n      height: 100%;\n      img {\n        width: auto; height: auto;\n        max-width: 100%; max-height: 100%;\n        top: 50%;\n        transform: translate3d(0, -50%, 0);\n        position: relative;\n        margin: 0 auto;\n      }\n      &.has_content_footer {\n        img {\n          max-height: calc(100% - ",");\n          top: calc(50% - ","px);\n        }\n        .content_footer {\n          text-align: center;\n        }\n      }\n    }\n  }\n"]),l=f(n(18)),s=f(n(3)),c=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=l.default.article(r,function(){return s.default.setting.getContainerVerticalMargin(!0)+" "+s.default.setting.getContainerHorizontalMargin(!0)},function(e){return e.visible?"visible":"hidden"},function(){return s.default.setting.getContainerWidth(!0)},function(){return s.default.setting.getContainerHeight(!0)},function(){return""+s.default.setting.getContentFooterHeight(!0)}),h=function(){return'\n  @font-face {\n    font-family: os_specific;\n    font-style: normal;\n    font-weight: 300;\n    src: local(".SFNSText-Light"),\n         local(".HelveticaNeueDeskInterface-Light"),\n         local(".LucidaGrandeUI"),\n         local("Ubuntu Light"),\n         local("Segoe UI Light"),\n         local("Roboto-Light"),\n         local("DroidSans"),\n         local("Tahoma");\n  }\n\n  font-size: '+s.default.setting.getFontSize(!0)+";\n  line-height: "+s.default.setting.getLineHeight(!0)+";\n  font-family: "+s.default.setting.getFont()+";\n  \n  h1, h2, h3, h4, h5, h6, p, th, td, div, label, textarea, a, li, input, button, textarea, select, address {\n    font-size: 1em;\n    line-height: inherit;\n    font-family: inherit;\n    text-align: justify;\n  }\n  \n  img {\n    max-width: 100%;\n  }\n"},v=function(e){return"\n  img {\n    display: block;\n    transition: opacity 1s linear;\n    opacity: "+(e.visible?"1":"0")+";\n  }\n"},m=function(){return"\n"},y=function(){return"\n  vertical-align: top;\n  white-space: initial;\n  display: inline-block;\n  overflow: hidden;\n  \n  .content_container {\n    height: 100%;\n    column-fill: auto;\n    column-gap: "+s.default.setting.getColumnGap(!0)+";\n    column-width: "+s.default.setting.getColumnWidth(!0)+";\n  }\n"},g=t.StyledHtmlScrollContent=p.extend(o,h,m,function(e){var t=e.visible,n=e.startOffset;return(t?n:-999)+"px"}),b=t.StyledHtmlPageContent=p.extend(i,h,y,function(e){var t=e.index;return s.default.setting.getContentWidth(t,!0)}),C=t.StyledImageScrollContent=p.extend(a,v,m,function(){return s.default.setting.getContentWidth(1,!0)}),_=t.StyledImagePageContent=p.extend(u,v,y,function(){return s.default.setting.getContentFooterHeight(!0)},function(){return s.default.setting.getContentFooterHeight()/2}),E={index:c.default.number,visible:c.default.bool,startOffset:c.default.number};g.propTypes=E,b.propTypes=E,C.propTypes=E,_.propTypes=E},function(e,t,n){n.r(t),function(e,r){n.d(t,"css",function(){return W}),n.d(t,"keyframes",function(){return Ue}),n.d(t,"injectGlobal",function(){return He}),n.d(t,"isStyledComponent",function(){return N}),n.d(t,"consolidateStreamedStyles",function(){return R}),n.d(t,"ThemeProvider",function(){return Pe}),n.d(t,"withTheme",function(){return Ie}),n.d(t,"ServerStyleSheet",function(){return pe}),n.d(t,"StyleSheetManager",function(){return de}),n.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return Ae});var o=n(24),i=n.n(o),a=n(23),s=n.n(a),c=n(33),f=n.n(c),d=n(0),p=n.n(d),h=n(2),v=n.n(h),m=n(22),y=n.n(m),g=n(32),b=/([A-Z])/g,C=/^ms-/,_=function(e){return function(e){return e.replace(b,"-$1").toLowerCase()}(e).replace(C,"-ms-")},E=function e(t,n){return t.reduce(function(t,r){return void 0===r||null===r||!1===r||""===r?t:Array.isArray(r)?[].concat(t,e(r,n)):r.hasOwnProperty("styledComponentId")?[].concat(t,["."+r.styledComponentId]):"function"==typeof r?n?t.concat.apply(t,e([r(n)],n)):t.concat(r):t.concat(i()(r)?function e(t,n){var r=Object.keys(t).filter(function(e){var n=t[e];return void 0!==n&&null!==n&&!1!==n&&""!==n}).map(function(n){return i()(t[n])?e(t[n],n):_(n)+": "+t[n]+";"}).join(" ");return n?n+" {\n  "+r+"\n}":r}(r):r.toString())},[])},w=new s.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),O=new s.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),T=[],S=function(e){if(-2===e){var t=T;return T=[],t}},P=f()(function(e){T.push(e)});O.use([P,S]),w.use([P,S]);var x=function(e,t,n){var r=e.join("").replace(/^\s*\/\/.*$/gm,"");return O(n||!t?"":t,t&&n?n+" "+t+" { "+r+" }":r)};function N(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function R(){}var k,M=function(e){return String.fromCharCode(e+(e>25?39:97))},j=function(e){var t="",n=void 0;for(n=e;n>52;n=Math.floor(n/52))t=M(n%52)+t;return M(n%52)+t},I=function(e,t){return t.reduce(function(t,n,r){return t.concat(n,e[r+1])},[e[0]])},A="function"==typeof Symbol&&"symbol"==u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},L=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))},H=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},V=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t},W=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Array.isArray(e)||"object"!==(void 0===e?"undefined":A(e))?E(I(e,n)):E(I([],[e].concat(n)))},B=void 0!==e&&e.env.SC_ATTR||"data-styled-components",z="__styled-components-stylesheet__",G="undefined"!=typeof window&&"HTMLElement"in window,q=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,K=function(e){var t=""+(e||""),n=[];return t.replace(q,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var o=e.componentId,i=e.matchIndex,a=n[r+1];return{componentId:o,cssFromDOM:a?t.slice(i,a.matchIndex):t.slice(i)}})},$=function(){return n.nc},Y=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},X=function(e,t){e[t]=Object.create(null)},Q=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},Z=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},J=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new Error},ee=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},te=function(){throw new Error("")},ne=function(e){return"\n/* sc-component-id: "+e+" */\n"},re=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},oe=function(e,t){return function(n){var r=$();return"<style "+[r&&'nonce="'+r+'"',B+'="'+Z(t)+'"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},ie=function(e,t){return function(){var n,r=((n={})[B]=Z(t),n),o=$();return o&&(r.nonce=o),p.a.createElement("style",F({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},ae=function(e){return function(){return Object.keys(e)}},ue=function(e,t,n,r,o){return G&&!n?function(e,t){var n=Object.create(null),r=Object.create(null),o=[],i=void 0!==t,a=!1,u=function(e){var t=r[e];return void 0!==t?t:(r[e]=o.length,o.push(0),X(n,e),r[e])},l=function(){var t=J(e).cssRules,n="";for(var i in r){n+=ne(i);for(var a=r[i],u=re(o,a),l=u-o[a];l<u;l+=1){var s=t[l];void 0!==s&&(n+=s.cssText)}}return n};return{styleTag:e,getIds:ae(r),hasNameForId:Q(n),insertMarker:u,insertRules:function(r,l,s){for(var c=u(r),f=J(e),d=re(o,c),p=0,h=[],v=l.length,m=0;m<v;m+=1){var y=l[m],g=i;g&&-1!==y.indexOf("@import")?h.push(y):ee(f,y,d+p)&&(g=!1,p+=1)}i&&h.length>0&&(a=!0,t().insertRules(r+"-import",h)),o[c]+=p,Y(n,r,s)},removeRules:function(u){var l=r[u];if(void 0!==l){var s=o[l];!function(e,t,n){for(var r=t-s,o=t;o>r;o-=1)e.deleteRule(o)}(J(e),re(o,l)),o[l]=0,X(n,u),i&&a&&t().removeRules(u+"-import")}},css:l,toHTML:oe(l,n),toElement:ie(l,n),clone:te}}(function(e,t,n){var r=document.createElement("style");r.setAttribute(B,"");var o=$();if(o&&r.setAttribute("nonce",o),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new Error("");t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r),o):function e(t,n){var r=void 0===t?Object.create(null):t,o=void 0===n?Object.create(null):n,i=function(e){var t=o[e];return void 0!==t?t:o[e]=[""]},a=function(){var e="";for(var t in o){var n=o[t][0];n&&(e+=ne(t)+n)}return e};return{styleTag:null,getIds:ae(o),hasNameForId:Q(r),insertMarker:i,insertRules:function(e,t,n){i(e)[0]+=t.join(" "),Y(r,e,n)},removeRules:function(e){var t=o[e];void 0!==t&&(t[0]="",X(r,e))},css:a,toHTML:oe(a,r),toElement:ie(a,r),clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=F({},e[n]);return t}(r),n=Object.create(null);for(var i in o)n[i]=[o[i][0]];return e(t,n)}}}()};k=G?1e3:-1;var le,se=0,ce=void 0,fe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];L(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ue(t.target,n?n.styleTag:null,t.forceServer,!0)},se+=1,this.id=se,this.sealed=!1,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!G||this.forceServer)return this;var e=[],t=[],n=[],r=!1,o=document.querySelectorAll("style["+B+"]"),i=o.length;if(0===i)return this;for(var a=0;a<i;a+=1){var u=o[a];r=!!u.getAttribute("data-styled-streamed")||r;for(var l=(u.getAttribute(B)||"").trim().split(/\s+/),s=l.length,c=0;c<s;c+=1){var f=l[c];this.rehydratedNames[f]=!0,t.push(f)}n=n.concat(K(u.textContent)),e.push(u)}var d=n.length;if(0===d)return this;var p=function(e,t,n,r,o){var i,a,u=(i=function(){for(var r=0;r<n.length;r+=1){var o=n[r],i=o.componentId,a=o.cssFromDOM,u=w("",a);e.insertRules(i,u)}for(var l=0;l<t.length;l+=1){var s=t[l];s.parentNode&&s.parentNode.removeChild(s)}},a=!1,function(){a||(a=!0,i())});return o&&u(),F({},e,{insertMarker:function(t){return u(),e.insertMarker(t)},insertRules:function(t,n,r){return u(),e.insertRules(t,n,r)}})}(this.makeTag(null),e,n,0,r);this.capacity=Math.max(1,k-d),this.tags.push(p);for(var h=0;h<d;h+=1)this.tagMap[n[h].componentId]=p;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ce=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),o=0;o<n.length;o+=1)t.tagMap[n[o]]=r;return r}),t.rehydratedNames=F({},this.rehydratedNames),t.deferred=F({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.sealed=!0},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ue(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!this.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=k,this.sealed=!1,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,o=0;o<r.length;o+=1)r[o].inject(e,t,n);var i=t,a=this.deferred[e];void 0!==a&&(i=a.concat(i),delete this.deferred[e]),this.getTagForId(e).insertRules(e,i,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,delete this.deferred[e]}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(d.cloneElement)(t.toElement(),{key:r})})},D(e,null,[{key:"master",get:function(){return ce||(ce=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),de=function(e){function t(){return L(this,t),V(this,e.apply(this,arguments))}return U(t,e),t.prototype.getChildContext=function(){var e;return(e={})[z]=this.sheetInstance,e},t.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new Error("");this.sheetInstance=new fe(this.props.target)}},t.prototype.render=function(){return p.a.Children.only(this.props.children)},t}(d.Component);de.childContextTypes=((le={})[z]=v.a.oneOfType([v.a.instanceOf(fe),v.a.instanceOf(pe)]).isRequired,le);var pe=function(){function e(){L(this,e),this.masterSheet=fe.master,this.instance=this.masterSheet.clone(),this.closed=!1}return e.prototype.complete=function(){if(!this.closed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.closed=!0}},e.prototype.collectStyles=function(e){if(this.closed)throw new Error("");return p.a.createElement(de,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new Error("")},e}(),he=function(e,t,n){var r=n&&e.theme===n.theme;return e.theme&&!r?e.theme:t},ve=/[[\].#*$><+~=|^:(),"'`-]+/g,me=/(^-|-$)/g;function ye(e){return e.replace(ve,"-").replace(me,"")}function ge(e){return e.displayName||e.name||"Component"}function be(e){return"string"==typeof e}var Ce,_e,Ee=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:Animation|Touch|Load|Drag)Start|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|Lo(?:stPointer|ad)|TimeUpdate|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|GotPointer|MouseDown|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|KeyPress|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|P(?:rogress|laying)|DragEnd|Key(?:Down|Up)|(?:MouseU|Dro)p|(?:Wait|Seek)ing|Scroll|Focus|Paste|Abort|Drag|Play|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|onPointerLeav|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|onPointerMov|(?:attribute|glyph)Nam|playsInlin|(?:writing|input|edge)Mod|(?:formE|e)ncTyp|(?:amplitu|mo)d|(?:xlinkTy|itemSco|keyTy|slo)p|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|lip(?:Path)?|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|autoFocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|on(?:PointerDow|FocusI)|formActio|zoomAndPa|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:gradientT|patternT|t)ransform|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|onPointerOu|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|markerStar|a(?:utoCorrec|bou)|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|(?:markerM|onInval)i|preloa|metho|kin)d|strokeDasharray|(?:onPointerCanc|lab)el|(?:allowFullScre|hidd)en|systemLanguage|(?:(?:o(?:nPointer(?:Ent|Ov)|rd)|allowReord|placehold|frameBord|paintOrd|post)e|repeatDu|d(?:efe|u))r|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|(?:strokeLineca|onPointerU|itemPro|useMa|wra|loo)p|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|(?:vI|i)deographic|unicodeRange|mathematical|vAlphabetic|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|(?:xmlnsXl|valueL)ink|mediaGroup|spellCheck|(?:text|m(?:in|ax))Length|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|autoPlay|o(?:verflow|pen)|f(?:o(?:ntSize|rm)|il(?:ter|l))|r(?:e(?:quired|sult|f))?|divisor|p(?:attern|oints)|unicode|d(?:efault|ata|ir)?|i(?:temRef|n2|s)|t(?:arget[XY]|o)|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|prefix|typeof|itemID|s(?:t(?:roke|art)|hape|cope|rc)|t(?:arget|ype)|(?:stri|la)ng|a(?:ccept|s)|m(?:edia|a(?:sk|x)|in)|x(?:mlns)?|width|value|size|href|k(?:ey)?|end|low|by|i[dn]|y[12]|g[12]|x[12]|f[xy]|[yz])$/,we=RegExp.prototype.test.bind(new RegExp("^(x|data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),Oe="__styled-components__",Te=Oe+"next__",Se=v.a.shape({getTheme:v.a.func,subscribe:v.a.func,unsubscribe:v.a.func}),Pe=function(e){function t(){L(this,t);var n=V(this,e.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return U(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[Te];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=function(e){var t={},n=0,r=e;return{publish:function(e){for(var n in r=e,t){var o=t[n];void 0!==o&&o(r)}},subscribe:function(e){var o=n;return t[o]=e,n+=1,e(r),o},unsubscribe:function(e){t[e]=void 0}}}(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return F({},this.context,((e={})[Te]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Oe]=function(e){var n=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(n)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[Te].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if("function"==typeof t)return t(this.outerTheme);if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":A(t)))throw new Error("");return F({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?p.a.Children.only(this.props.children):null},t}(d.Component);Pe.childContextTypes=((Ce={})[Oe]=v.a.func,Ce[Te]=Se,Ce),Pe.contextTypes=((_e={})[Te]=Se,_e);var xe={};function Ne(e){for(var t,n=0|e.length,r=0|n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var Re=G,ke=function e(t,n){for(var r=0;r<t.length;r+=1){var o=t[r];if(Array.isArray(o)&&!e(o))return!1;if("function"==typeof o&&!N(o))return!1}if(void 0!==n)for(var i in n)if("function"==typeof n[i])return!1;return!0},Me=void 0!==r&&r.hot&&!1,je=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ie=function(e){var t,n=e.displayName||e.name||"Component",r="function"==typeof e&&!(e.prototype&&"isReactComponent"in e.prototype),o=N(e)||r,i=function(t){function n(){var e,r;L(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=V(this,t.call.apply(t,[this].concat(i))),r.state={},r.unsubscribeId=-1,V(r,e)}return U(n,t),n.prototype.componentWillMount=function(){var e=this,t=this.constructor.defaultProps,n=this.context[Te],r=he(this.props,void 0,t);if(void 0===n&&void 0!==r)this.setState({theme:r});else{var o=n.subscribe;this.unsubscribeId=o(function(n){var r=he(e.props,n,t);e.setState({theme:r})})}},n.prototype.componentWillReceiveProps=function(e){var t=this.constructor.defaultProps;this.setState(function(n){return{theme:he(e,n.theme,t)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[Te].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var t=F({theme:this.state.theme},this.props);return o||(t.ref=t.innerRef,delete t.innerRef),p.a.createElement(e,t)},n}(p.a.Component);return i.displayName="WithTheme("+n+")",i.styledComponentId="withTheme",i.contextTypes=((t={})[Oe]=v.a.func,t[Te]=Se,t),y()(i,e)},Ae={StyleSheet:fe},Le=function(e,t,n){var r=function(t){return e(Ne(t))};return function(){function e(t,n,r){if(L(this,e),this.rules=t,this.isStatic=!Me&&ke(t,n),this.componentId=r,!fe.master.hasId(r)){fe.master.deferredInject(r,[])}}return e.prototype.generateAndInjectStyles=function(e,o){var i=this.isStatic,a=this.componentId,u=this.lastClassName;if(Re&&i&&void 0!==u&&o.hasNameForId(a,u))return u;var l=t(this.rules,e),s=r(this.componentId+l.join(""));if(!o.hasNameForId(a,s)){var c=n(l,"."+s);o.inject(this.componentId,c,s)}return this.lastClassName=s,s},e.generateName=function(e){return r(e)},e}()}(j,E,x),De=function(e){return function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Object(g.isValidElementType)(r))throw new Error("");var i=function(){return n(r,o,e.apply(void 0,arguments))};return i.withConfig=function(e){return t(n,r,F({},o,e))},i.attrs=function(e){return t(n,r,F({},o,{attrs:F({},o.attrs||{},e)}))},i}}(W),Fe=function(e,t){var n={},r=function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=V(this,e.call.apply(e,[this].concat(i))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,V(r,n)}return U(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[Te].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var n=this.constructor.attrs,r=F({},t,{theme:e});return void 0===n?r:(this.attrs=Object.keys(n).reduce(function(e,t){var o=n[t];return e[t]="function"!=typeof o||function(e,t){for(var n=e;n;)if((n=Object.getPrototypeOf(n))&&n===t)return!0;return!1}(o,d.Component)?o:o(r),e},{}),F({},r,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,r=n.attrs,o=n.componentStyle,i=(n.warnTooManyClasses,this.context[z]||fe.master);if(o.isStatic&&void 0===r)return o.generateAndInjectStyles(xe,i);var a=this.buildExecutionContext(e,t);return o.generateAndInjectStyles(a,i)},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,n=this.context[Te];if(t.isStatic){var r=this.generateAndInjectStyles(xe,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var o=n.subscribe;this.unsubscribeId=o(function(t){var n=he(e.props,t,e.constructor.defaultProps),r=e.generateAndInjectStyles(n,e.props);e.setState({theme:n,generatedClassName:r})})}else{var i=this.props.theme||{},a=this.generateAndInjectStyles(i,this.props);this.setState({theme:i,generatedClassName:a})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var r=he(e,n.theme,t.constructor.defaultProps);return{theme:r,generatedClassName:t.generateAndInjectStyles(r,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this,t=this.props.innerRef,n=this.state.generatedClassName,r=this.constructor,o=r.styledComponentId,i=r.target,a=be(i),u=[this.props.className,o,this.attrs.className,n].filter(Boolean).join(" "),l=F({},this.attrs,{className:u});N(i)?l.innerRef=t:l.ref=t;var s=Object.keys(this.props).reduce(function(t,n){var r;return"innerRef"===n||"className"===n||a&&(r=n,!Ee.test(r)&&!we(r.toLowerCase()))||(t[n]=e.props[n]),t},l);return Object(d.createElement)(i,s)},t}(d.Component);return function o(i,a,u){var l,s=a.isClass,c=void 0===s?!be(i):s,f=a.displayName,d=void 0===f?function(e){return be(e)?"styled."+e:"Styled("+ge(e)+")"}(i):f,p=a.componentId,h=void 0===p?function(t,r){var o="string"!=typeof t?"sc":ye(t),i=(n[o]||0)+1;n[o]=i;var a=o+"-"+e.generateName(o+i);return void 0!==r?r+"-"+a:a}(a.displayName,a.parentComponentId):p,m=a.ParentComponent,g=void 0===m?r:m,b=a.rules,C=a.attrs,_=a.displayName&&a.componentId?ye(a.displayName)+"-"+a.componentId:a.componentId||h,E=new e(void 0===b?u:b.concat(u),C,_),w=function(e){function n(){return L(this,n),V(this,e.apply(this,arguments))}return U(n,e),n.withComponent=function(e){var t=a.componentId,r=H(a,["componentId"]),i=t&&t+"-"+(be(e)?e:ye(ge(e))),l=F({},r,{componentId:i,ParentComponent:n});return o(e,l,u)},D(n,null,[{key:"extend",get:function(){var e=a.rules,r=a.componentId,l=H(a,["rules","componentId"]),s=void 0===e?u:e.concat(u),c=F({},l,{rules:s,parentComponentId:r,ParentComponent:n});return t(o,i,c)}}]),n}(g);return w.attrs=C,w.componentStyle=E,w.displayName=d,w.styledComponentId=_,w.target=i,w.contextTypes=((l={})[Oe]=v.a.func,l[Te]=Se,l[z]=v.a.oneOfType([v.a.instanceOf(fe),v.a.instanceOf(pe)]),l),c&&y()(w,i,{attrs:!0,componentStyle:!0,displayName:!0,extend:!0,styledComponentId:!0,target:!0,warnTooManyClasses:!0,withComponent:!0}),w}}(Le,De),Ue=function(e,t,n){return function(){var r=fe.master,o=n.apply(void 0,arguments),i=e(Ne(JSON.stringify(o).replace(/\s|\\n/g,""))),a="sc-keyframes-"+i;return r.hasNameForId(a,i)||r.inject(a,t(o,i,"@keyframes"),i),i}}(j,x,W),He=function(e,t){return function(){var n=fe.master,r=t.apply(void 0,arguments),o="sc-global-"+Ne(JSON.stringify(r));n.hasId(o)||n.inject(o,e(r))}}(x,W),Ve=function(e,t){var n=function(n){return t(e,n)};return je.forEach(function(e){n[e]=n(e)}),n}(Fe,De);t.default=Ve}.call(this,n(51),n(50)(e))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=void 0}return e.prototype.connect=function(e){this.store=e,this.afterConnected()},e.prototype.afterConnected=function(){},e.prototype.isConnect=function(){return(0,r.isExist)(this.store)},e.prototype.dispatch=function(e){return this.throwIfNotConnected(),this.store.dispatch(e)},e.prototype.getState=function(){return this.throwIfNotConnected(),this.store.getState()},e.prototype.throwIfNotConnected=function(e){if(!this.isConnect())throw new Error(e||this.constructor.name+"에 Store를 연결해주세요.")},e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Position=void 0;var r=a(n(0)),o=a(n(4)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var l=t.Position={LEFT:1,MIDDLE:2,RIGHT:3},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.onTouchScreenHandle=function(e,t){e.preventDefault(),e.stopPropagation(),i.default.current.isOnFooter()||(0,this.props.onTouched)({position:t})},t.prototype.renderContent=function(){return this.props.children},t.prototype.render=function(){var e=this,t=this.props,n=t.forwardedRef,o=t.total,a=i.default.setting.getStyledTouchable();return r.default.createElement(a,{role:"button",tabIndex:"-1",innerRef:n,id:"reader_contents",total:o,onClick:function(t){return e.onTouchScreenHandle(t,l.MIDDLE)},onKeyDown:function(t){"Enter"===t.key||" "===t.key?e.onTouchScreenHandle(t,l.MIDDLE):"ArrowLeft"===t.key||"Left"===t.key?e.onTouchScreenHandle(t,l.LEFT):"ArrowRight"!==t.key&&"Right"!==t.key||e.onTouchScreenHandle(t,l.RIGHT)}},this.renderContent())},t}(r.default.Component);t.default=s,s.defaultProps={forwardedRef:r.default.createRef(),onTouched:function(){},children:null,total:null},s.propTypes={onTouched:o.default.func,children:o.default.node,forwardedRef:o.default.object,total:o.default.number}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={SCROLL:100,RESIZE:100}},function(e,t,n){e.exports=function(){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,u=a&&a(Object);return function l(s,c,f){if("string"!=typeof c){if(u){var d=a(c);d&&d!==u&&l(s,d,f)}var p=r(c);o&&(p=p.concat(o(c)));for(var h=0;h<p.length;++h){var v=p[h];if(!(e[v]||t[v]||f&&f[v])){var m=i(c,v);try{n(s,v,m)}catch(e){}}}return s}return s}}()},function(e,t,n){e.exports=function e(t){var n=/^\0+/g,r=/[\0\r\f]/g,o=/: */g,i=/zoo|gra/,a=/([,: ])(transform)/g,u=/,+\s*(?![^(]*[)])/g,l=/ +\s*(?![^(]*[)])/g,s=/ *[\0] */g,c=/,\r+?/g,f=/([\t\r\n ])*\f?&/g,d=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,p=/\W+/g,h=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,m=/:(read-only)/g,y=/\s+(?=[{\];=:>])/g,g=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,C=/\s{2,}/g,_=/([^\(])(:+) */g,E=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,O=/([\s\S]*?);/g,T=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,P=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,N="-webkit-",R="-moz-",k="-ms-",M=59,j=125,I=123,A=40,L=41,D=91,F=93,U=10,H=13,V=9,W=64,B=32,z=38,G=45,q=95,K=42,$=44,Y=58,X=39,Q=34,Z=47,J=62,ee=43,te=126,ne=0,re=12,oe=11,ie=107,ae=109,ue=115,le=112,se=111,ce=105,fe=99,de=100,pe=112,he=1,ve=1,me=0,ye=1,ge=1,be=1,Ce=0,_e=0,Ee=0,we=[],Oe=[],Te=0,Se=null,Pe=-2,xe=-1,Ne=0,Re=1,ke=2,Me=3,je=0,Ie=1,Ae="",Le="",De="";function Fe(e,t,o,i,a){for(var u,l,c=0,f=0,d=0,p=0,y=0,g=0,b=0,C=0,E=0,O=0,T=0,S=0,P=0,x=0,q=0,Ce=0,Oe=0,Se=0,Pe=0,xe=o.length,He=xe-1,Ge="",qe="",Ke="",$e="",Ye="",Xe="";q<xe;){if(b=o.charCodeAt(q),q===He&&f+p+d+c!==0&&(0!==f&&(b=f===Z?U:Z),p=d=c=0,xe++,He++),f+p+d+c===0){if(q===He&&(Ce>0&&(qe=qe.replace(r,"")),qe.trim().length>0)){switch(b){case B:case V:case M:case H:case U:break;default:qe+=o.charAt(q)}b=M}if(1===Oe)switch(b){case I:case j:case M:case Q:case X:case A:case L:case $:Oe=0;case V:case H:case U:case B:break;default:for(Oe=0,Pe=q,y=b,q--,b=M;Pe<xe;)switch(o.charCodeAt(Pe++)){case U:case H:case M:++q,b=y,Pe=xe;break;case Y:Ce>0&&(++q,b=y);case I:Pe=xe}}switch(b){case I:for(y=(qe=qe.trim()).charCodeAt(0),T=1,Pe=++q;q<xe;){switch(b=o.charCodeAt(q)){case I:T++;break;case j:T--}if(0===T)break;q++}switch(Ke=o.substring(Pe,q),y===ne&&(y=(qe=qe.replace(n,"").trim()).charCodeAt(0)),y){case W:switch(Ce>0&&(qe=qe.replace(r,"")),g=qe.charCodeAt(1)){case de:case ae:case ue:case G:u=t;break;default:u=we}if(Pe=(Ke=Fe(t,u,Ke,g,a+1)).length,Ee>0&&0===Pe&&(Pe=qe.length),Te>0&&(u=Ue(we,qe,Se),l=ze(Me,Ke,u,t,ve,he,Pe,g,a,i),qe=u.join(""),void 0!==l&&0===(Pe=(Ke=l.trim()).length)&&(g=0,Ke="")),Pe>0)switch(g){case ue:qe=qe.replace(w,Be);case de:case ae:case G:Ke=qe+"{"+Ke+"}";break;case ie:Ke=(qe=qe.replace(h,"$1 $2"+(Ie>0?Ae:"")))+"{"+Ke+"}",Ke=1===ge||2===ge&&We("@"+Ke,3)?"@"+N+Ke+"@"+Ke:"@"+Ke;break;default:Ke=qe+Ke,i===pe&&($e+=Ke,Ke="")}else Ke="";break;default:Ke=Fe(t,Ue(t,qe,Se),Ke,i,a+1)}Ye+=Ke,S=0,Oe=0,x=0,Ce=0,Se=0,P=0,qe="",Ke="",b=o.charCodeAt(++q);break;case j:case M:if((Pe=(qe=(Ce>0?qe.replace(r,""):qe).trim()).length)>1)switch(0===x&&((y=qe.charCodeAt(0))===G||y>96&&y<123)&&(Pe=(qe=qe.replace(" ",":")).length),Te>0&&void 0!==(l=ze(Re,qe,t,e,ve,he,$e.length,i,a,i))&&0===(Pe=(qe=l.trim()).length)&&(qe="\0\0"),y=qe.charCodeAt(0),g=qe.charCodeAt(1),y){case ne:break;case W:if(g===ce||g===fe){Xe+=qe+o.charAt(q);break}default:if(qe.charCodeAt(Pe-1)===Y)break;$e+=Ve(qe,y,g,qe.charCodeAt(2))}S=0,Oe=0,x=0,Ce=0,Se=0,qe="",b=o.charCodeAt(++q)}}switch(b){case H:case U:if(f+p+d+c+_e===0)switch(O){case L:case X:case Q:case W:case te:case J:case K:case ee:case Z:case G:case Y:case $:case M:case I:case j:break;default:x>0&&(Oe=1)}f===Z?f=0:ye+S===0&&i!==ie&&qe.length>0&&(Ce=1,qe+="\0"),Te*je>0&&ze(Ne,qe,t,e,ve,he,$e.length,i,a,i),he=1,ve++;break;case M:case j:if(f+p+d+c===0){he++;break}default:switch(he++,Ge=o.charAt(q),b){case V:case B:if(p+c+f===0)switch(C){case $:case Y:case V:case B:Ge="";break;default:b!==B&&(Ge=" ")}break;case ne:Ge="\\0";break;case re:Ge="\\f";break;case oe:Ge="\\v";break;case z:p+f+c===0&&ye>0&&(Se=1,Ce=1,Ge="\f"+Ge);break;case 108:if(p+f+c+me===0&&x>0)switch(q-x){case 2:C===le&&o.charCodeAt(q-3)===Y&&(me=C);case 8:E===se&&(me=E)}break;case Y:p+f+c===0&&(x=q);break;case $:f+d+p+c===0&&(Ce=1,Ge+="\r");break;case Q:case X:0===f&&(p=p===b?0:0===p?b:p);break;case D:p+f+d===0&&c++;break;case F:p+f+d===0&&c--;break;case L:p+f+c===0&&d--;break;case A:if(p+f+c===0){if(0===S)switch(2*C+3*E){case 533:break;default:T=0,S=1}d++}break;case W:f+d+p+c+x+P===0&&(P=1);break;case K:case Z:if(p+c+d>0)break;switch(f){case 0:switch(2*b+3*o.charCodeAt(q+1)){case 235:f=Z;break;case 220:Pe=q,f=K}break;case K:b===Z&&C===K&&(33===o.charCodeAt(Pe+2)&&($e+=o.substring(Pe,q+1)),Ge="",f=0)}}if(0===f){if(ye+p+c+P===0&&i!==ie&&b!==M)switch(b){case $:case te:case J:case ee:case L:case A:if(0===S){switch(C){case V:case B:case U:case H:Ge+="\0";break;default:Ge="\0"+Ge+(b===$?"":"\0")}Ce=1}else switch(b){case A:x+7===q&&108===C&&(x=0),S=++T;break;case L:0==(S=--T)&&(Ce=1,Ge+="\0")}break;case V:case B:switch(C){case ne:case I:case j:case M:case $:case re:case V:case B:case U:case H:break;default:0===S&&(Ce=1,Ge+="\0")}}qe+=Ge,b!==B&&b!==V&&(O=b)}}E=C,C=b,q++}if(Pe=$e.length,Ee>0&&0===Pe&&0===Ye.length&&0===t[0].length==0&&(i!==ae||1===t.length&&(ye>0?Le:De)===t[0])&&(Pe=t.join(",").length+2),Pe>0){if(u=0===ye&&i!==ie?function(e){for(var t,n,o=0,i=e.length,a=Array(i);o<i;++o){for(var u=e[o].split(s),l="",c=0,f=0,d=0,p=0,h=u.length;c<h;++c)if(!(0===(f=(n=u[c]).length)&&h>1)){if(d=l.charCodeAt(l.length-1),p=n.charCodeAt(0),t="",0!==c)switch(d){case K:case te:case J:case ee:case B:case A:break;default:t=" "}switch(p){case z:n=t+Le;case te:case J:case ee:case B:case L:case A:break;case D:n=t+n+Le;break;case Y:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,f-1);break}default:(c<1||u[c-1].length<1)&&(n=t+Le+n)}break;case $:t="";default:n=f>1&&n.indexOf(":")>0?t+n.replace(_,"$1"+Le+"$2"):t+n+Le}l+=n}a[o]=l.replace(r,"").trim()}return a}(t):t,Te>0&&void 0!==(l=ze(ke,$e,u,e,ve,he,Pe,i,a,i))&&0===($e=l).length)return Xe+$e+Ye;if($e=u.join(",")+"{"+$e+"}",ge*me!=0){switch(2!==ge||We($e,2)||(me=0),me){case se:$e=$e.replace(m,":"+R+"$1")+$e;break;case le:$e=$e.replace(v,"::"+N+"input-$1")+$e.replace(v,"::"+R+"$1")+$e.replace(v,":"+k+"input-$1")+$e}me=0}}return Xe+$e+Ye}function Ue(e,t,n){var r=t.trim().split(c),o=r,i=r.length,a=e.length;switch(a){case 0:case 1:for(var u=0,l=0===a?"":e[0]+" ";u<i;++u)o[u]=He(l,o[u],n,a).trim();break;default:u=0;var s=0;for(o=[];u<i;++u)for(var f=0;f<a;++f)o[s++]=He(e[f]+" ",r[u],n,a).trim()}return o}function He(e,t,n,r){var o=t,i=o.charCodeAt(0);switch(i<33&&(i=(o=o.trim()).charCodeAt(0)),i){case z:switch(ye+r){case 0:case 1:if(0===e.trim().length)break;default:return o.replace(f,"$1"+e.trim())}break;case Y:switch(o.charCodeAt(1)){case 103:if(be>0&&ye>0)return o.replace(d,"$1").replace(f,"$1"+De);break;default:return e.trim()+o.replace(f,"$1"+e.trim())}default:if(n*ye>0&&o.indexOf("\f")>0)return o.replace(f,(e.charCodeAt(0)===Y?"":"$1")+e.trim())}return e+o}function Ve(e,t,n,r){var s,c=0,f=e+";",d=2*t+3*n+4*r;if(944===d)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),o=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Ie){case 0:break;case G:if(110!==e.charCodeAt(10))break;default:var i=o.split((o="",u)),a=0;for(n=0,t=i.length;a<t;n=0,++a){for(var s=i[a],c=s.split(l);s=c[n];){var f=s.charCodeAt(0);if(1===Ie&&(f>W&&f<90||f>96&&f<123||f===q||f===G&&s.charCodeAt(1)!==G))switch(isNaN(parseFloat(s))+(-1!==s.indexOf("("))){case 1:switch(s){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:s+=Ae}}c[n++]=s}o+=(0===a?"":",")+c.join(" ")}}return o=r+o+";",1===ge||2===ge&&We(o,1)?N+o+o:o}(f);if(0===ge||2===ge&&!We(f,1))return f;switch(d){case 1015:return 97===f.charCodeAt(10)?N+f+f:f;case 951:return 116===f.charCodeAt(3)?N+f+f:f;case 963:return 110===f.charCodeAt(5)?N+f+f:f;case 1009:if(100!==f.charCodeAt(4))break;case 969:case 942:return N+f+f;case 978:return N+f+R+f+f;case 1019:case 983:return N+f+R+f+k+f+f;case 883:return f.charCodeAt(8)===G?N+f+f:f.indexOf("image-set(",11)>0?f.replace(x,"$1"+N+"$2")+f:f;case 932:if(f.charCodeAt(4)===G)switch(f.charCodeAt(5)){case 103:return N+"box-"+f.replace("-grow","")+N+f+k+f.replace("grow","positive")+f;case 115:return N+f+k+f.replace("shrink","negative")+f;case 98:return N+f+k+f.replace("basis","preferred-size")+f}return N+f+k+f+f;case 964:return N+f+k+"flex-"+f+f;case 1023:if(99!==f.charCodeAt(8))break;return s=f.substring(f.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),N+"box-pack"+s+N+f+k+"flex-pack"+s+f;case 1005:return i.test(f)?f.replace(o,":"+N)+f.replace(o,":"+R)+f:f;case 1e3:switch(c=(s=f.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(c)){case 226:s=f.replace(E,"tb");break;case 232:s=f.replace(E,"tb-rl");break;case 220:s=f.replace(E,"lr");break;default:return f}return N+f+k+s+f;case 1017:if(-1===f.indexOf("sticky",9))return f;case 975:switch(c=(f=e).length-10,d=(s=(33===f.charCodeAt(c)?f.substring(0,c):f).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:f=f.replace(s,N+s)+";"+f;break;case 207:case 102:f=f.replace(s,N+(d>102?"inline-":"")+"box")+";"+f.replace(s,N+s)+";"+f.replace(s,k+s+"box")+";"+f}return f+";";case 938:if(f.charCodeAt(5)===G)switch(f.charCodeAt(6)){case 105:return s=f.replace("-items",""),N+f+N+"box-"+s+k+"flex-"+s+f;case 115:return N+f+k+"flex-item-"+f.replace(T,"")+f;default:return N+f+k+"flex-line-pack"+f.replace("align-content","").replace(T,"")+f}break;case 973:case 989:if(f.charCodeAt(3)!==G||122===f.charCodeAt(4))break;case 931:case 953:if(!0===P.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ve(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):f.replace(s,N+s)+f.replace(s,R+s.replace("fill-",""))+f;break;case 962:if(f=N+f+(102===f.charCodeAt(5)?k+f:"")+f,n+r===211&&105===f.charCodeAt(13)&&f.indexOf("transform",10)>0)return f.substring(0,f.indexOf(";",27)+1).replace(a,"$1"+N+"$2")+f}return f}function We(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),o=e.substring(n+1,e.length-1);return Se(2!==t?r:r.replace(S,"$1"),o,t)}function Be(e,t){var n=Ve(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(O," or ($1)").substring(4):"("+t+")"}function ze(e,t,n,r,o,i,a,u,l,s){for(var c,f=0,d=t;f<Te;++f)switch(c=Oe[f].call(qe,e,d,n,r,o,i,a,u,l,s)){case void 0:case!1:case!0:case null:break;default:d=c}switch(d){case void 0:case!1:case!0:case null:case t:break;default:return d}}function Ge(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Ie=0|n;break;case"global":be=0|n;break;case"cascade":ye=0|n;break;case"compress":Ce=0|n;break;case"semicolon":_e=0|n;break;case"preserve":Ee=0|n;break;case"prefix":Se=null,n?"function"!=typeof n?ge=1:(ge=2,Se=n):ge=0}}return Ge}function qe(t,n){if(void 0!==this&&this.constructor===qe)return e(t);var o=t,i=o.charCodeAt(0);i<33&&(i=(o=o.trim()).charCodeAt(0)),Ie>0&&(Ae=o.replace(p,i===D?"":"-")),i=1,1===ye?De=o:Le=o;var a,u=[De];Te>0&&void 0!==(a=ze(xe,n,u,u,ve,he,0,0,0,0))&&"string"==typeof a&&(n=a);var l=Fe(we,u,n,0,0);return Te>0&&void 0!==(a=ze(Pe,l,u,u,ve,he,l.length,0,0,0))&&"string"!=typeof(l=a)&&(i=0),Ae="",De="",Le="",me=0,ve=1,he=1,Ce*i==0?l:l.replace(r,"").replace(y,"").replace(g,"$1").replace(b,"$1").replace(C," ")}return qe.use=function e(t){switch(t){case void 0:case null:Te=Oe.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:Oe[Te++]=t;break;case Boolean:je=0|!!t}}return e},qe.set=Ge,void 0!==t&&Ge(t),qe}(null)},function(e,t,n){
/*!
     * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     */
var r=n(49);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&"function"==typeof(t=e.constructor)&&!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=n(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.wrapper=r.default.createRef(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.imageOnErrorHandler=function(){(0,this.props.onContentError)(this.props.content.index,"")},t.prototype.imageOnLoadHandler=function(){(0,this.props.onContentLoaded)(this.props.content.index,"")},t.prototype.renderImage=function(){var e=this,t=this.props.src;return this.props.content.isContentOnError?r.default.createElement("div",{className:"error_image_wrapper"},r.default.createElement("span",{className:"error_image svg_picture_1"})):r.default.createElement("img",{src:t,alt:"",onLoad:function(){return e.imageOnLoadHandler()},onError:function(){return e.imageOnErrorHandler()}})},t.prototype.render=function(){var e=this.props.contentFooter,t=this.props.content.isContentLoaded;return r.default.createElement("section",{ref:this.wrapper,className:"comic_page lazy_load "+(t?"loaded":"")+" "+(e?"has_content_footer":"")},this.renderImage(),e)},t}(r.default.PureComponent);t.default=l,l.defaultProps={contentFooter:null},l.propTypes={src:i.default.string.isRequired,content:o.ContentType.isRequired,onContentLoaded:i.default.func,onContentError:i.default.func,contentFooter:i.default.node}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(0)),i=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t}(i.default);l.defaultProps=Object.assign({},i.default.defaultProps),l.propTypes=Object.assign({},i.default.propTypes),t.default=o.default.forwardRef(function(e,t){return o.default.createElement(l,r({},e,{forwardedRef:t}))})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=n(4),i=s(o),a=n(7),l=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.wrapper=r.default.createRef(),o.content=r.default.createRef(),o.listener=null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){this.props.content.isContentLoaded||this.fetch(),this.moveToOffset()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onContentRendered,r=t.localOffset,o=t.isCalculated,i=t.contentFooter,a=this.props.content,u=a.index,s=a.isContentLoaded,c=i?l.default.setting.getContentFooterHeight():0;if(s){if(!this.listener){var f=this.content.current;this.listener=this.waitForResources().then(function(){return n(u,{scrollWidth:f.scrollWidth,scrollHeight:f.scrollHeight+c})})}e.isCalculated&&!o&&(this.listener=null),(!e.isCalculated&&o||r!==e.localOffset)&&this.moveToOffset()}},t.prototype.fetch=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this.props.content,t=e.uri,n=e.index,r=this.props,o=r.onContentLoaded,i=r.onContentError;fetch(t).then(function(e){return e.json()}).then(function(e){return o(n,e.value)}).catch(function(e){return i(n,e)})}),t.prototype.waitForResources=function(){var e=[].concat(c(this.content.current.querySelectorAll("img"))).filter(function(e){return!e.complete}).map(function(e){return new Promise(function(t){e.addEventListener("load",function(){return t()}),e.addEventListener("error",function(){return t()})})}),t=[];return document.fonts&&document.fonts.ready&&t.push(document.fonts.ready),Promise.all([].concat(c(e),t))},t.prototype.moveToOffset=function(){},t.prototype.renderContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.content,n=t.isContentLoaded,o=t.isContentOnError,i=t.content,a=this.props,u=a.contentFooter,l=a.className;return n?r.default.createElement(r.default.Fragment,null,r.default.createElement("section",{ref:this.content,className:"content_container "+l,dangerouslySetInnerHTML:{__html:e+" "+i}}),u):o?r.default.createElement("div",null,"Error"):r.default.createElement("div",null,"Loading...")},t.prototype.render=function(){var e=this.props.content.index,t=this.props.startOffset,n=l.default.setting.getStyledContent(),o='<pre id="'+l.default.setting.getChapterIndicatorId(e)+'"></pre>';return r.default.createElement(n,{id:""+l.default.setting.getChapterId(e),index:e,className:"chapter",visible:t!==a.PRE_CALCULATION,startOffset:t,innerRef:this.wrapper},this.renderContent(o))},t}(r.default.PureComponent);t.default=f,f.defaultProps={contentFooter:null,className:""},f.propTypes={content:o.ContentType,className:i.default.string,startOffset:i.default.number.isRequired,localOffset:i.default.number.isRequired,onContentLoaded:i.default.func,onContentError:i.default.func,onContentRendered:i.default.func,contentFooter:i.default.node,isCalculated:i.default.bool.isRequired}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Position=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),i=n(43),a=c(n(3)),l=n(20),s=c(l);function c(e){return e&&e.__esModule?e:{default:e}}t.Position=l.Position;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){this.handleScrollEvent()},t.prototype.componentDidUpdate=function(){this.handleScrollEvent()},t.prototype.handleScrollEvent=function(){var e=this.props.forwardedRef;a.default.current.isOnFooter()?(0,i.removeScrollEvent)(e.current):(0,i.preventScrollEvent)(e.current)},t.prototype.renderContent=function(){var e=this,t=this.props.children,n=a.default.current.isOnFooter();return o.default.createElement(o.default.Fragment,null,!n&&o.default.createElement("button",{className:"page_move_button left_button",onClick:function(t){return e.onTouchScreenHandle(t,l.Position.LEFT)}}),!n&&o.default.createElement("button",{className:"page_move_button right_button",onClick:function(t){return e.onTouchScreenHandle(t,l.Position.RIGHT)}}),t)},t}(s.default);f.defaultProps=Object.assign({},s.default.defaultProps),f.propTypes=Object.assign({},s.default.propTypes),t.default=o.default.forwardRef(function(e,t){return o.default.createElement(f,r({},e,{forwardedRef:t}))})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_WIDTH=700,t.DEFAULT_VERTICAL_MARGIN=35,t.DEFAULT_HORIZONTAL_MARGIN=30,t.DEFAULT_EXTENDED_SIDE_TOUCH_WIDTH=100,t.DEFAULT_CONTENT_FOOTER_HEIGHT=60,t.CHAPTER_INDICATOR_ID_PREFIX="ridi_link_c",t.CHAPTER_ID_PREFIX="ridi_c",t.DEFAULT_FONT="os_specific"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.initialSettingState=t.initialFooterCalculationsState=t.initialContentCalculationsState=t.initialContentState=void 0;var r=n(8),o=n(10),i=n(29),a=(t.initialContentState=function(e,t){return{index:e,uri:t,content:null,error:null,isContentLoaded:!1,isContentOnError:!1}},t.initialContentCalculationsState=function(e){return{index:e,isCalculated:!1,total:0}},t.initialFooterCalculationsState=function(){return{isCalculated:!1,total:0}},t.initialSettingState=function(){return{colorTheme:o.ReaderThemeType.WHITE,font:"system",fontSizeInPx:16,contentPaddingInPercent:12,contentWidthInPercent:100,lineHeightInEm:1.67,columnGapInPercent:5,columnsInPage:1,viewType:o.ViewType.SCROLL,startWithBlankPage:0,maxWidth:i.DEFAULT_MAX_WIDTH,contentFooterHeight:i.DEFAULT_CONTENT_FOOTER_HEIGHT,containerHorizontalMargin:i.DEFAULT_HORIZONTAL_MARGIN,containerVerticalMargin:i.DEFAULT_VERTICAL_MARGIN,extendedSideTouchWidth:i.DEFAULT_EXTENDED_SIDE_TOUCH_WIDTH}});t.initialState={status:{isInitContents:!1,isContentsLoaded:!1,isAllCalculated:!1},metadata:{format:r.ContentFormat.HTML,binding:r.BindingType.LEFT},contents:[],calculations:{contents:[],footer:{isCalculated:!1,total:0},total:0},current:{contentIndex:1,location:o.EMPTY_READ_LOCATION,position:0,offset:0,viewType:o.ViewType.SCROLL},setting:a()},t.default={contents:function(){return["contents"]},content:function(e){return["contents",e-1,"content"]},isContentLoaded:function(e){return["contents",e-1,"isContentLoaded"]},isContentOnError:function(e){return["contents",e-1,"isContentOnError"]},contentError:function(e){return["contents",e-1,"error"]},contentFormat:function(){return["metadata","format"]},bindingType:function(){return["metadata","binding"]},isInitContents:function(){return["status","isInitContents"]},isContentsLoaded:function(){return["status","isContentsLoaded"]},isAllCalculated:function(){return["status","isAllCalculated"]},current:function(){return["current"]},currentContentIndex:function(){return["current","contentIndex"]},currentPosition:function(){return["current","position"]},currentLocation:function(){return["current","location"]},currentOffset:function(){return["current","offset"]},setting:function(){return["setting"]},colorTheme:function(){return["setting","colorTheme"]},columnsInPage:function(){return["setting","columnsInPage"]},columnGap:function(){return["setting","columnGap"]},calculationsTotal:function(){return["calculations","total"]},contentsCalculations:function(){return["calculations","contents"]},isContentsCalculated:function(e){return["calculations","contents",e-1,"isCalculated"]},contentCalculationsTotal:function(e){return["calculations","contents",e-1,"total"]},footerCalculations:function(){return["calculations","footer"]},footerCalculationsTotal:function(){return["calculations","footer","total"]},isFooterCalculated:function(){return["calculations","footer","isCalculated"]}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;return n.toList=function(){if(!(0,r.isExist)(this._LIST))throw new Error("_LIST가 존재하지 않습니다.");return this._LIST}.bind(n),n.toString=function(e){if(!(0,r.isExist)(this._STRING_MAP))throw new Error("_STRING_MAP이 존재하지 않습니다.");return this._STRING_MAP[e]||""}.bind(n),n.toStringList=function(){var e=this;if(!(0,r.isExist)(this._STRING_MAP)||!(0,r.isExist)(this._LIST))throw new Error("_STRING_MAP 혹은 _LIST가 존재하지 않습니다.");return this._LIST.map(function(t){return e._STRING_MAP[t]})}.bind(n),n.fromString=function(e){if(!(0,r.isExist)(this._STRING_MAP))throw new Error("_STRING_MAP이 존재하지 않습니다.");return(0,r.invert)(this._STRING_MAP)[e]||""}.bind(n),n.getDefault=function(){if(!(0,r.isExist)(this._DEFAULT))throw new Error("_DEFAULT이 존재하지 않습니다.");return this._DEFAULT}.bind(n),Object.keys(t).forEach(function(e){n[e]=t[e].bind(n)}),n};var r=n(1)},function(e,t,n){e.exports=n(48)},function(e,t,n){e.exports=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,i,a,u,l,s,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===s)return r+"/*|*/";break;case 3:switch(s){case 102:case 112:return e(o[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ImmutableObjectBuilder=void 0;var r=n(1),o=t.ImmutableObjectBuilder=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._state=(0,r.cloneObject)(t)}return e.prototype.set=function(e,t){return(0,r.nullSafeSet)(this._state,e,t),this},e.prototype.build=function(){return this._state},e}();t.default={ImmutableObjectBuilder:o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1];return Object.prototype.hasOwnProperty.call(t,r.type)?t[r.type](n,r):n}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=f(r),i=f(n(35)),a=n(9),u=n(34),l=n(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return new u.ImmutableObjectBuilder(e).set(o.default.currentOffset(),s.scrollTop()).build()},h=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.current(),(0,l.updateObject)(e.current,t.current)).build()},v=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.setting(),(0,l.updateObject)(e.setting,t.setting)).build()},m=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.isInitContents(),!0).set(o.default.contentFormat(),t.contentFormat).set(o.default.bindingType(),t.bindingType).set(o.default.contents(),t.contents.map(function(e,t){return(0,r.initialContentState)(t+1,e)})).set(o.default.contentsCalculations(),t.contentFormat===c.ContentFormat.HTML?t.contents.map(function(e,t){return(0,r.initialContentCalculationsState)(t+1)}):[(0,r.initialContentCalculationsState)(1)]).build()},y=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.content(t.index),t.content).set(o.default.isContentLoaded(t.index),!0).set(o.default.isContentOnError(t.index),!1).set(o.default.contentError(t.index),null).set(o.default.isContentsLoaded(),t.isAllLoaded).build()},g=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.content(t.index),null).set(o.default.isContentLoaded(t.index),!1).set(o.default.isContentOnError(t.index),!0).set(o.default.contentError(t.index),t.error).set(o.default.isContentsLoaded(),t.isAllLoaded).build()},b=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.isContentsCalculated(t.index),!0).set(o.default.contentCalculationsTotal(t.index),t.total).build()},C=function(e){return new u.ImmutableObjectBuilder(e).set(o.default.isAllCalculated(),!1).set(o.default.contentsCalculations(),e.calculations.contents.map(function(e){return(0,r.initialContentCalculationsState)(e.index)})).set(o.default.footerCalculations(),(0,r.initialFooterCalculationsState)()).build()},_=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.isAllCalculated(),t.isCompleted).set(o.default.calculationsTotal(),t.calculationsTotal).build()},E=function(e,t){return new u.ImmutableObjectBuilder(e).set(o.default.isFooterCalculated(),!0).set(o.default.footerCalculationsTotal(),t.total).build()};t.default=function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).setting,n=void 0===t?{}:t,o=Object.assign({},(0,r.initialSettingState)(),n);return(0,i.default)(Object.assign({},r.initialState,{setting:o}),(d(e={},a.actions.SCROLLED,p),d(e,a.actions.SET_CONTENTS,m),d(e,a.actions.UPDATE_SETTING,v),d(e,a.actions.UPDATE_CONTENT,y),d(e,a.actions.UPDATE_CONTENT_ERROR,g),d(e,a.actions.UPDATE_CURRENT,h),d(e,a.actions.INVALIDATE_CALCULATIONS,C),d(e,a.actions.UPDATE_CONTENT_CALCULATIONS,b),d(e,a.actions.UPDATE_FOOTER_CALCULATIONS,E),d(e,a.actions.UPDATE_CALCULATIONS_TOTAL,_),e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.content;return r.default.createElement("div",{className:"content_footer"},t)};t.default=a,a.propTypes={content:o.default.node.isRequired}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(0)),o=n(13),i=n(6),a=n(5),l=n(4),s=E(l),c=n(16),f=E(c),d=E(n(3)),p=E(n(14)),h=n(28),v=E(h),m=n(8),y=n(1),g=E(n(25)),b=n(17),C=n(7),_=n(11);function E(e){return e&&e.__esModule?e:{default:e}}function w(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var O=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.container=r.default.createRef(),o.onContentRendered=o.onContentRendered.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),d.default.calculations.setTotal(1,Math.ceil(this.container.current.scrollWidth/(0,a.screenWidth)()))},t.prototype.onTouchableScreenTouched=function(t){var n=t.position;e.prototype.onTouchableScreenTouched.call(this,{position:n});var r=this.props,o=r.bindingType,i=r.calculationsTotal,a=r.onMoveWrongDirection,u=this.props.current.offset;if(n!==h.Position.MIDDLE)if(n!==h.Position.RIGHT||o!==m.BindingType.RIGHT||0!==u){var l=u;n===h.Position.LEFT?l=o===m.BindingType.LEFT?u-1:u+1:n===h.Position.RIGHT&&(l=o===m.BindingType.LEFT?u+1:u-1),u!==(l=Math.max(0,Math.min(l,i)))&&d.default.current.updateCurrentPosition(l)}else(0,y.isExist)(a)&&a()},t.prototype.getTouchableScreen=function(){return v.default},t.prototype.moveToOffset=function(){var e=this.props.current,t=e.contentIndex,n=e.offset;(0,a.setScrollTop)(0),t===C.FOOTER_INDEX?this.wrapper.current.scrollLeft=this.wrapper.current.scrollWidth:(this.wrapper.current.scrollLeft=0,this.container.current.scrollLeft=n*(0,a.screenWidth)())},t.prototype.onContentRendered=function(){var e=d.default.calculations.getHasFooter();d.default.calculations.setTotal(C.FOOTER_INDEX,e?1:0)},t.prototype.renderFooter=function(){var e=this.props.footer,t=this.props.setting.containerVerticalMargin,n=d.default.calculations.getStartOffset(C.FOOTER_INDEX);return r.default.createElement(p.default,{content:e,startOffset:n,onContentRendered:this.onContentRendered,containerVerticalMargin:t})},t.prototype.renderContent=function(e){var t=this.props,n=t.current,o=t.contentFooter;return r.default.createElement(g.default,{key:e.uri+":"+e.index,content:e,currentOffset:n.offset,src:e.uri,onContentLoaded:this.onContentLoaded,onContentError:this.onContentError,contentFooter:d.default.calculations.isLastContent(e.index)?o:null})},t.prototype.getBlankPage=function(){return r.default.createElement("section",{className:"comic_page"})},t.prototype.getContents=function(){var e=this,t=this.props,n=t.contents,r=t.bindingType,o=this.props.setting,i=o.columnsInPage,a=o.startWithBlankPage,u=[];if(a>0&&(u=(0,y.makeSequence)(a).map(function(){return e.getBlankPage()})),u=[].concat(w(u),w(n.map(function(t){return e.renderContent(t)}))),i>1&&r===m.BindingType.RIGHT){var l=u.length%i;l>0&&(u=[].concat(w(u),w((0,y.makeSequence)(i-l).map(function(){return e.getBlankPage()}))));for(var s=[],c=0;c<u.length/i;c+=1){var f=u.slice(c*i,(c+1)*i);s=[].concat(w(s),w(f.reverse()))}return s}return u},t.prototype.renderContents=function(){var e=this.props.setting.columnsInPage;return r.default.createElement(b.StyledImagePageContent,{className:_.READERJS_CONTENT_WRAPPER,setting:this.props.setting,innerRef:this.container,width:(0,a.screenWidth)()+"px",height:(0,a.screenHeight)()+"px",visible:!0},r.default.createElement("div",{className:"content_container "+(2===e?"two_images_in_page":"")},this.getContents()))},t}(f.default);O.defaultProps=Object.assign({},f.default.defaultProps,{footer:null,contentFooter:null,onMoveWrongDirection:null}),O.propTypes=Object.assign({},f.default.propTypes,{current:l.CurrentType,contents:s.default.arrayOf(l.ContentType).isRequired,contentsCalculations:s.default.arrayOf(l.ContentCalculationsType).isRequired,actionUpdateContent:s.default.func.isRequired,actionUpdateContentError:s.default.func.isRequired,footer:s.default.node,contentFooter:s.default.node,footerCalculations:l.FooterCalculationsType.isRequired,bindingType:s.default.oneOf(m.BindingType.toList()).isRequired,calculationsTotal:s.default.number.isRequired,onMoveWrongDirection:s.default.func}),t.default=(0,o.connect)(function(e){return Object.assign({},(0,c.mapStateToProps)(e),{current:(0,i.selectReaderCurrent)(e),contents:(0,i.selectReaderContents)(e),contentsCalculations:(0,i.selectReaderContentsCalculations)(e),calculationsTotal:(0,i.selectReaderCalculationsTotal)(e),footerCalculations:(0,i.selectReaderFooterCalculations)(e),bindingType:(0,i.selectReaderBindingType)(e)})},function(e){return Object.assign({},(0,c.mapDispatchToProps)(e))})(O)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(0)),o=n(13),i=n(6),a=n(5),l=n(9),s=n(4),c=w(s),f=n(16),d=w(f),p=n(1),h=w(n(26)),v=w(n(14)),m=w(n(3)),y=w(n(25)),g=n(17),b=n(7),C=w(n(12)),_=w(n(21)),E=n(11);function w(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),this.onScroll=(0,p.debounce)(function(e){return t.onScrollHandle(e)},_.default.SCROLL),window.addEventListener(C.default.SCROLL,this.onScroll,{passive:!0}),this.onContentRendered=this.onContentRendered.bind(this)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),window.removeEventListener(C.default.SCROLL,this.onScroll)},t.prototype.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),m.default.calculations.setTotal(1,this.wrapper.current.scrollHeight)},t.prototype.onScrollHandle=function(e){e.preventDefault(),e.stopPropagation();var t=this.props,n=t.ignoreScroll,r=t.actionOnScreenScrolled;n||(r(),m.default.current.updateCurrentPosition((0,a.scrollTop)()))},t.prototype.moveToOffset=function(){var e=this.props.current.offset;(0,a.setScrollTop)(e)},t.prototype.getTouchableScreen=function(){return h.default},t.prototype.onContentRendered=function(e){m.default.calculations.setTotal(b.FOOTER_INDEX,e.scrollHeight)},t.prototype.renderFooter=function(){var e=this.props.footer,t=this.props.setting.containerVerticalMargin,n=m.default.calculations.getStartOffset(b.FOOTER_INDEX);return r.default.createElement(v.default,{content:e,startOffset:n,containerVerticalMargin:t,onContentRendered:this.onContentRendered})},t.prototype.renderContent=function(e){var t=this.props,n=t.current,o=t.contentFooter;return r.default.createElement(y.default,{key:e.uri+":"+e.index,content:e,currentOffset:n.offset,src:e.uri,onContentLoaded:this.onContentLoaded,onContentError:this.onContentError,contentFooter:m.default.calculations.isLastContent(e.index)?o:null})},t.prototype.renderContents=function(){var e=this,t=this.props,n=t.contents,o=t.setting;return r.default.createElement(g.StyledImageScrollContent,{className:E.READERJS_CONTENT_WRAPPER,setting:o,innerRef:this.wrapper,height:"auto",visible:!0},r.default.createElement("div",{className:"content_container"},n.map(function(t){return e.renderContent(t)})))},t}(d.default);O.defaultProps=Object.assign({},d.default.defaultProps,{contentFooter:null}),O.propTypes=Object.assign({},d.default.propTypes,{contents:c.default.arrayOf(s.ContentType),contentsCalculations:c.default.arrayOf(s.ContentCalculationsType),calculationsTotal:c.default.number.isRequired,actionUpdateContent:c.default.func.isRequired,actionUpdateContentError:c.default.func.isRequired,footerCalculations:s.FooterCalculationsType.isRequired,contentFooter:c.default.node,actionOnScreenScrolled:c.default.func.isRequired,ignoreScroll:c.default.bool.isRequired}),t.default=(0,o.connect)(function(e){return Object.assign({},(0,f.mapStateToProps)(e),{contents:(0,i.selectReaderContents)(e),contentsCalculations:(0,i.selectReaderContentsCalculations)(e),calculationsTotal:(0,i.selectReaderCalculationsTotal)(e),footerCalculations:(0,i.selectReaderFooterCalculations)(e)})},function(e){return Object.assign({},(0,f.mapDispatchToProps)(e),{actionOnScreenScrolled:function(){return e((0,l.onScreenScrolled)())}})})(O)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),o(n(0));var r=o(n(27));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t}(r.default);t.default=i,i.defaultProps=Object.assign({},r.default.defaultProps),i.propTypes=Object.assign({},r.default.propTypes)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(0)),o=n(13),i=n(6),a=E(n(14)),l=n(5),s=n(9),c=n(4),f=E(c),d=n(16),p=E(d),h=n(1),v=E(n(26)),m=E(n(3)),y=E(n(40)),g=n(7),b=E(n(12)),C=E(n(21)),_=n(11);function E(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.calculate=r.calculate.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),this.onScroll=(0,h.debounce)(function(e){return t.onScrollHandle(e)},C.default.SCROLL),window.addEventListener(b.default.SCROLL,this.onScroll,{passive:!0}),this.onFooterRendered=this.onFooterRendered.bind(this)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),window.removeEventListener(b.default.SCROLL,this.onScroll)},t.prototype.onScrollHandle=function(e){e.preventDefault(),e.stopPropagation();var t=this.props,n=t.ignoreScroll,r=t.actionOnScreenScrolled;n||(r(),m.default.current.updateCurrentPosition((0,l.scrollTop)()))},t.prototype.calculate=function(e,t){return m.default.calculations.setTotal(e,t.scrollHeight)},t.prototype.moveToOffset=function(){var e=this.props.current.offset;(0,l.setScrollTop)(e)},t.prototype.getTouchableScreen=function(){return v.default},t.prototype.needRender=function(e){var t=this.props.current,n=m.default.calculations.isCalculated(e.index),r=[t.offset,(0,l.screenHeight)()],o=r[0],i=r[1],a=m.default.calculations.getContentIndexesInOffsetRange(o-2*i,o+i+2*i);return!n||a.includes(e.index)},t.prototype.onFooterRendered=function(e){m.default.calculations.setTotal(g.FOOTER_INDEX,e.scrollHeight)},t.prototype.renderFooter=function(){var e=this.props.footer,t=this.props.setting.containerVerticalMargin;return r.default.createElement(a.default,{content:e,onContentRendered:this.onFooterRendered,containerVerticalMargin:t,startOffset:m.default.calculations.getStartOffset(g.FOOTER_INDEX)})},t.prototype.renderContent=function(e){var t=this.props,n=t.current,o=t.contentFooter,i=m.default.calculations.getStartOffset(e.index),a=n.contentIndex===e.index,u=m.default.calculations.isLastContent(e.index);return r.default.createElement(y.default,{className:a?_.READERJS_CONTENT_WRAPPER:null,key:e.uri+":"+e.index,content:e,isCalculated:m.default.calculations.isCalculated(e.index),startOffset:i,localOffset:a?n.offset-i:_.INVALID_OFFSET,onContentLoaded:this.onContentLoaded,onContentError:this.onContentError,onContentRendered:this.calculate,contentFooter:u?o:null})},t.prototype.renderContents=function(){var e=this;return this.props.contents.filter(function(t){return e.needRender(t)}).map(function(t){return e.renderContent(t)})},t}(p.default);w.defaultProps=Object.assign({},p.default.defaultProps,{contentFooter:null}),w.propTypes=Object.assign({},p.default.propTypes,{contentsCalculations:f.default.arrayOf(c.ContentCalculationsType),calculationsTotal:f.default.number.isRequired,actionUpdateContent:f.default.func.isRequired,actionUpdateContentError:f.default.func.isRequired,footerCalculations:c.FooterCalculationsType.isRequired,contentFooter:f.default.node,actionOnScreenScrolled:f.default.func.isRequired,ignoreScroll:f.default.bool.isRequired}),t.default=(0,o.connect)(function(e){return Object.assign({},(0,d.mapStateToProps)(e),{contentsCalculations:(0,i.selectReaderContentsCalculations)(e),calculationsTotal:(0,i.selectReaderCalculationsTotal)(e),footerCalculations:(0,i.selectReaderFooterCalculations)(e)})},function(e){return Object.assign({},(0,d.mapDispatchToProps)(e),{actionOnScreenScrolled:function(){return e((0,s.onScreenScrolled)())}})})(w)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),i(n(0));var r=i(n(27)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.moveToOffset=function(){var e=this.props.localOffset;this.wrapper.current&&e>=0&&(this.wrapper.current.scrollLeft=e*(o.default.setting.getContainerWidth()+o.default.setting.getColumnGap()))},t}(r.default);t.default=a,a.defaultProps=Object.assign({},r.default.defaultProps),a.propTypes=Object.assign({},r.default.propTypes)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.redirect=t.pageDown=t.pageUp=t.preventScrollEvent=t.removeScrollEvent=t.isScrolledToBottom=t.isScrolledToTop=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),i=n(1),a=(r=n(12))&&r.__esModule?r:{default:r};t.isScrolledToTop=function(){return o.scrollTop()<=100},t.isScrolledToBottom=function(){return o.scrollTop()>=o.scrollHeight()-o.screenHeight()-100};var u=function(e){return e.preventDefault()},l=t.removeScrollEvent=function(e){(0,i.isExist)(e)&&(e.removeEventListener(a.default.SCROLL,u),e.removeEventListener(a.default.TOUCH_MOVE,u),e.removeEventListener(a.default.MOUSE_WHEEL,u))};t.preventScrollEvent=function(e){l(e),(0,i.isExist)(e)&&(e.addEventListener(a.default.SCROLL,u,{passive:!1}),e.addEventListener(a.default.TOUCH_MOVE,u,{passive:!1}),e.addEventListener(a.default.MOUSE_WHEEL,u,{passive:!1}))},t.pageUp=function(){return window.scrollTo(0,window.scrollY-.9*o.screenHeight())},t.pageDown=function(){return window.scrollTo(0,window.scrollY+.9*o.screenHeight())},t.redirect=function(e){document.location=e,document.location.href=e,window.location=e,window.location.href=e,location.href=e}},function(e,t,n){var r;/*! @ridi/reader.js v1.0.20 */function o(e){return[].slice.call(e)}function i(e){var t=e.media&&e.media.mediaText;return e.disabled?[]:t&&t.length&&!window.matchMedia(t).matches?[]:o(e.cssRules)}function a(e,t){return e.match(t),t?t.length:0}function s(e){for(var t,n,r=[0,0,0],o=e.split(" ");"string"==typeof(t=o.shift());)n=a(t,m),r[2]=n,n&&(t=t.replace(m,"")),n=a(t,v),r[1]=n,n&&(t=t.replace(v,"")),n=a(t,h),r[1]+=n,n&&(t=t.replace(h,"")),n=a(t,d),r[0]=n,n&&(t=t.replace(d,"")),n=a(t,p),r[1]+=n,n&&(t=t.replace(p,"")),r[2]+=a(t,f);return parseInt(r.join(""),10)}function c(e,t){for(var n,r,o=t.split(","),i=0;n=o.shift();)e.webkitMatchesSelector(n)&&(i=(r=s(n))>i?r:i);return i}if(e.exports=function e(t,n,o){function i(u,l){if(!n[u]){if(!t[u]){if(!l&&("function"==typeof r&&r))return r(u,!0);if(a)return a(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){return i(t[u][1][e]||e)},c,c.exports,e,t,n,o)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(e("./_Object")),a=r(e("./MutableClientRect")),s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=((navigator.userAgent||"").match(/chrome\/[\d]+/gi)||[""])[0],i=parseInt((o.match(/[\d]+/g)||[""])[0],10);return isNaN(i)||(r._version=i),r._magic=3,r.changedPage(n),r._scrollTracked=!1,r._scrollListener=function(){if(r.isCursed&&!e.context.isScrollMode){var t=e.curPage,n=r.prevPage,o=r.pageOverflow,i=r.pageWeight;t>n?(i=Math.min(i+(t-n),r._magic),o||(r.pageOverflow=i===r._magic)):t<n&&0===(i=Math.max(i-(n-t),0))&&(r.pageOverflow=!1),r.prevPage=t,r.pageWeight=i}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,[{key:"version",get:function(){return this._version}},{key:"isCursed",get:function(){return this.isAndroid&&(47===this.version||this.version>=49&&this.version<61)}},{key:"isAndroid",get:function(){return null!==(navigator.userAgent||"").match(/android/gi)}},{key:"pageWeight",get:function(){return this._pageWeight},set:function(e){this._pageWeight=e}},{key:"pageOverflow",get:function(){return this._pageOverflow},set:function(e){this._pageOverflow=e}},{key:"prevPage",get:function(){return this._prevPage},set:function(e){this._prevPage=e}}]),o(t,[{key:"changedPage",value:function(e){this.pageWeight=Math.min(e,this._magic),this.pageOverflow=this.pageWeight===this._magic,this.prevPage=e}},{key:"addScrollListenerIfNeeded",value:function(){this._scrollTracked||(this._scrollTracked=!0,window.addEventListener("scroll",this._scrollListener,!0))}},{key:"removeScrollListenerIfNeeded",value:function(){this._scrollTracked&&(this._scrollTracked=!1,window.removeEventListener("scroll",this._scrollListener,!0))}},{key:"adjustPoint",value:function(e,t,n){var r={x:t,y:n},o=e.htmlClientWidth,i=e.bodyClientWidth,a=e.pageXOffset,u=e.context;return u.isScrollMode?r:(this.isCursed?(r.x+=u.pageWidthUnit*this.pageWeight,this.pageOverflow&&(r.x-=u.pageGap*this._magic,o-i==1&&(r.x+=this._magic))):41!==this.version&&40!==this.version||(r.x+=a),r)}},{key:"adjustRect",value:function(e,t){var n=e.htmlClientWidth,r=e.bodyClientWidth,o=e.context,i=new a.default(t);return this.isCursed&&!o.isScrollMode&&(i.left-=o.pageWidthUnit*this.pageWeight,i.right-=o.pageWidthUnit*this.pageWeight,this._pageOverflow&&(i.left+=o.pageGap*this._magic,i.right+=o.pageGap*this._magic,n-r==1&&(i.left-=this._magic,i.right-=this._magic))),i}}]),t}();n.default=s},{"./MutableClientRect":2,"./_Object":5}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t?(this.left=t.left||0,this.top=t.top||0,this.right=t.right||0,this.bottom=t.bottom||0,this.width=t.width||0,this.height=t.height||0):(this.left=0,this.top=0,this.right=0,this.bottom=0,this.width=0,this.height=0)}return r(e,[{key:"isEmpty",get:function(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom}}]),e}();n.default=o},{}],3:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(e("./_Object")),a=r(e("./_Util")),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._wrapper=e,n.updateNodes(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,[{key:"wrapper",get:function(){return this._wrapper}},{key:"body",get:function(){return this.wrapper.getElementsByTagName("BODY")[0]||this.wrapper}},{key:"nodes",get:function(){return this._nodes}},{key:"images",get:function(){return this.wrapper.getElementsByTagName("IMG")}}]),o(t,[{key:"updateNodes",value:function(){this._nodes=this.fetchNodes()}},{key:"fetchNodes",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE&&"IMG"===e.nodeName},n=!1,r=document.createTreeWalker(this.body,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,e?null:{acceptNode:function(e){return n=!0,t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}},!1),o=[],i=void 0;i=r.nextNode();)n?o.push(i):t(i)&&o.push(i);return o}},{key:"getImagePathFromPoint",value:function(e,t){var n=document.elementFromPoint(e,t);return n&&"IMG"===n.nodeName&&n.src||"null"}},{key:"getSvgElementFromPoint",value:function(e,t){for(var n=document.elementFromPoint(e,t);n&&"HTML"!==n.nodeName&&"BODY"!==n.nodeName;)if("SVG"===(n=n.parentElement).nodeName){for(var r="<svg",o=n.attributes,i=0;i<o.length;i++){var a=o[i];r+=" "+a.nodeName+'="'+a.nodeValue+'"'}r+=">";for(var u=document.createElement("svgElement"),l=n.childNodes,s=0;s<l.length;s++)u.appendChild(l[s].cloneNode(!0));return""+r+u.innerHTML+"</svg>"}return"null"}},{key:"getLinkFromElement",value:function(e){for(var t=e;t;){if(t&&"A"===t.nodeName)return{node:t,href:t.href,type:(t.attributes["epub:type"]||{value:""}).value};t=t.parentNode}return null}},{key:"reviseImage",value:function(e,t,n){var r=function(e,t){var n,r=parseInt(e,10);if(!isNaN(r)){if(-1!==("string"==typeof(n=e)?n.search(/%/):-1)){if(r>100)return 1;if(r<100)return-1}if(t<r)return 1;if(t>r)return-1}return 0},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=void 0,r=void 0;return e>t?(n=t,r=e):(n=e,r=t),n/r*100},i=a.default.getImageSize(e),u="",l="";if(0===i.nWidth||0===i.nHeight)return{el:e,width:u,height:l,position:"",size:i};(r(i.sWidth,i.nWidth)>0||r(i.aWidth,i.nWidth)>0)&&(u="initial"),(r(i.sHeight,i.nHeight)>0||r(i.aHeight,i.nHeight)>0)&&(l="initial");var s=0;(i.nWidth>=i.nHeight!=i.dWidth>=i.dHeight||Math.abs(o(i.nWidth,i.nHeight)-o(i.dWidth,i.dHeight))>1)&&(i.dWidth>=i.dHeight&&i.dWidth<i.nWidth?(s=o(i.dWidth,i.nWidth)/100,i.dWidth<t&&Math.round(i.nHeight*s)<n?(u=i.dWidth+"px",l=Math.round(i.nHeight*s)+"px"):(u="initial",l="initial")):i.dWidth<i.dHeight&&i.dHeight<i.nHeight?(s=o(i.dHeight,i.nHeight)/100,Math.round(i.nWidth*s)<t&&i.dHeight<n?(u=Math.round(i.nWidth*s)+"px",l=i.dHeight+"px"):(u="initial",l="initial")):(u="initial",l="initial"));var c=parseInt(u,10)||i.dWidth,f=parseInt(l,10)||i.dHeight;if(c>t||f>n){var d=a.default.getStylePropertiesIntValue(e,["line-height","margin-top","margin-bottom","padding-top","padding-bottom"]),p=Math.min(t,n),h=Math.max(.95*(n-d),.95*p),v=h/i.nHeight*i.nWidth;v>t&&(h*=t/v,v=t),u=v+"px",l=h+"px"}return{el:e,width:u,height:l,position:"",size:i}}}]),t}();n.default=s},{"./_Object":5,"./_Util":8}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r=e("./_Object"))&&r.__esModule?r:{default:r},a=function(e){function t(e,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s._width=e,s._height=n,s._gap=r,s._doublePageMode=o,s._scrollMode=i,s._systemMajorVersion=a,s._maxSelectionLength=l,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,[{key:"pageWidthUnit",get:function(){return this._width+this.pageGap}},{key:"pageHeightUnit",get:function(){return this._height}},{key:"pageGap",get:function(){return this._gap}},{key:"pageUnit",get:function(){return this.isScrollMode?this.pageHeightUnit:this.pageWidthUnit}},{key:"isDoublePageMode",get:function(){return this._doublePageMode}},{key:"isScrollMode",get:function(){return this._scrollMode}},{key:"systemMajorVersion",get:function(){return this._systemMajorVersion}},{key:"maxSelectionLength",get:function(){return this._maxSelectionLength}}]),t}();n.default=a},{"./_Object":5}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"staticOverride",value:function(e,t,n){var r=t;n.forEach(function(t){r.prototype.constructor[t]=e.prototype.constructor[t]})}}]),e}();n.default=o},{}],6:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(e("./_Object")),a=r(e("./_Sel")),s=r(e("./_Util")),c=r(e("./MutableClientRect")),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._context=n,r.debugNodeLocation=!1,r.setCustomMethod(),r.setViewport(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,[{key:"content",get:function(){return this._content}},{key:"handler",get:function(){return this._handler}},{key:"sel",get:function(){return this._sel}},{key:"context",get:function(){return this._context}},{key:"totalWidth",get:function(){return this.content.wrapper.scrollWidth}},{key:"totalHeight",get:function(){return this.content.wrapper.scrollHeight}},{key:"totalSize",get:function(){return this.context.isScrollMode?this.totalHeight:this.totalWidth}},{key:"pageXOffset",get:function(){return window.pageXOffset}},{key:"pageYOffset",get:function(){return window.pageYOffset}},{key:"pageOffset",get:function(){return this.context.isScrollMode?this.pageYOffset:this.pageXOffset}},{key:"curPage",get:function(){return this.pageOffset/this.context.pageUnit}}]),o(t,[{key:"setCustomMethod",value:function(){function e(){return n.adjustRect(this.getBoundingClientRect()||new c.default)}function t(){for(var e=this.getClientRects()||[],t=[],r=0;r<e.length;r++){var o=e[r];o.width<=1||t.push(o)}return n.adjustRects(t)}var n=this;Range.prototype.getAdjustedBoundingClientRect=e,Range.prototype.getAdjustedClientRects=t,HTMLElement.prototype.getAdjustedBoundingClientRect=e,HTMLElement.prototype.getAdjustedClientRects=t}},{key:"setViewport",value:function(){var e="width="+window.innerWidth+", height="+window.innerHeight+", initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0",t=document.querySelector("meta[name=viewport]");null===t&&((t=document.createElement("meta")).id="viewport",t.name="viewport",document.getElementsByTagName("head")[0].appendChild(t)),t.content=e}},{key:"adjustPoint",value:function(e,t){return{x:e,y:t}}},{key:"adjustRect",value:function(e){return new c.default(e)}},{key:"adjustRects",value:function(e){var t=this;return s.default.concatArray([],e,function(e){return t.adjustRect(e)})}},{key:"changeContext",value:function(e){this._context=e}},{key:"scrollTo",value:function(e){this.context.isScrollMode?window.scroll(0,e):window.scroll(e,0)}},{key:"getOffsetDirectionFromElement",value:function(e){var t=this.context.isScrollMode?"top":"left";if(e){var n=s.default.getMatchedCSSValue(e,"position",!0);"left"===t&&"absolute"===n&&(t="top")}return t}},{key:"_getOffsetFromAnchor",value:function(e,t){var n=document.getElementById(e);if(n){var r=s.default.createTextNodeIterator(n).nextNode();if(r){var o=document.createRange();o.selectNodeContents(r);var i=window.getComputedStyle(n).display,a=o.getAdjustedClientRects();if(a.length)return t(a[0],n);if("none"===i){n.style.display="block";var u=n.getAdjustedBoundingClientRect();return n.style.display="none",t(u,n)}}return t(n.getAdjustedBoundingClientRect(),n)}return t({left:null,top:null},null)}},{key:"getOffsetFromAnchor",value:function(e){var t=this;return this._getOffsetFromAnchor(e,function(e,n){return t.context.isScrollMode?null===e.top?null:e.top+t.pageYOffset:null===e.left?null:t.getPageFromRect(e,n)})}},{key:"getOffsetFromSerializedRange",value:function(e){try{var t=this.getRangeFromSerializedRange(e).getAdjustedClientRects();return t.length>0?this.context.isScrollMode?t[0].top+this.pageYOffset:this.getPageFromRect(t[0]):null}catch(e){return null}}},{key:"_findRectIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",o=this.context.isScrollMode?"top":"left",i=0;i<e.length;i++){var a=e[i];if("bottom"===r){if(n<=a[o]&&a.width>0)return i-1}else if(t<=a[o]&&a[o]<=n&&a.width>0)return i}return null}},{key:"findNodeLocation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";this._latestNodeRect=null;var o=this.content.nodes;if(!o)return null;for(var i=null,a=0;a<o.length;a++){var u=o[a],l=document.createRange();l.selectNodeContents(u);var c=l.getAdjustedBoundingClientRect();if(c.isEmpty){if("IMG"!==u.nodeName)continue;if(l.selectNode(u),(c=l.getAdjustedBoundingClientRect()).isEmpty)continue}var f=this.context.isScrollMode?c.top+c.height:c.left+c.width;if(!(0===c.width||f<e)){var d=void 0;if(u.nodeType===Node.TEXT_NODE){var p=u.nodeValue;if(!p)continue;for(var h=p.split(s.default.getSplitWordRegex()),v=l.startOffset,m=0;m<h.length;m++){var y=h[m];if(y.trim().length){try{l.setStart(u,v),l.setEnd(u,v+y.length)}catch(e){return null}var g=l.getAdjustedClientRects();if(null!==(d=this._findRectIndex(g,e,t,n)))return d<0?(this._latestNodeRect=i.rect,i.location):(this._latestNodeRect=g[d],a+r+Math.min(m+d,h.length-1));for(var b=g.length-1;b>=0;b--)g[b].left<t&&(i={location:""+a+r+m,rect:g[b]})}v+=y.length+1}}else if("IMG"===u.nodeName){var C=l.getAdjustedClientRects();if(null!==(d=this._findRectIndex(C,e,t,n)))return d<0?(this._latestNodeRect=i.rect,i.location):(this._latestNodeRect=C[d],""+a+r+"0");for(var _=C.length-1;_>=0;_--)C[_].left<t&&(i={location:""+a+r+"0",rect:C[_]})}}}return null}},{key:"showNodeLocationIfNeeded",value:function(){if(this.debugNodeLocation&&null!==this._latestNodeRect){var e=document.getElementById("RidiNodeLocation");e||((e=document.createElement("span")).setAttribute("id","RidiNodeLocation"),document.body.appendChild(e));var t=this._latestNodeRect;t[this.context.isScrollMode?"top":"left"]+=this.pageOffset,e.style.cssText="position: absolute !important;background-color: red !important;left: "+t.left+"px !important;top: "+t.top+"px !important;width: "+(t.width||3)+"px !important;height: "+t.height+"px !important;display: block !important;opacity: 0.4 !important;z-index: 99 !important;"}}},{key:"getOffsetFromNodeLocation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",r=e.split(n),o=parseInt(r[0],10),i=parseInt(r[1],10),a=this.context,u=a.pageUnit,l=a.isScrollMode,c=this.totalSize,f=this.content.nodes;if(-1===o||-1===i||null===f)return null;var d=f[o];if(!d)return null;var p=document.createRange();p.selectNodeContents(d);var h=p.getAdjustedBoundingClientRect();if(h.isEmpty){if("IMG"!==d.nodeName)return null;if(p.selectNode(d),(h=p.getAdjustedBoundingClientRect()).isEmpty)return null}var v=this.getPageFromRect(h);if(null===v||c<=u*v)return null;if("IMG"===d.nodeName&&0===i)return l?Math.max(h.top+this.pageYOffset-("bottom"===t?u:0),0):v;var m=d.nodeValue;if(null===m)return null;for(var y=m.split(s.default.getSplitWordRegex()),g=void 0,b=0,C=0;C<=Math.min(i,y.length-1);C++)b+=(g=y[C]).length+1;try{p.setStart(p.startContainer,b-g.length-1),p.setEnd(p.startContainer,b-1)}catch(e){return null}return h=p.getAdjustedBoundingClientRect(),null===(v=this.getPageFromRect(h))||c<=u*v?null:((h.left<0||(v+1)*u<h.left+h.width)&&(v+=h.width<u?1:Math.floor(h.width/u)),l?Math.max(h.top+this.pageYOffset-("bottom"===t?u:0),0):v)}},{key:"searchText",value:function(e){return window.find(e,0)?g.serializeRange(getSelection().getRangeAt(0),!0,this.content.body):"null"}},{key:"textAroundSearchResult",value:function(e,t){var n=getSelection().getRangeAt(0),r=n.startOffset,o=Math.max(n.startOffset-e,0),i=n.endOffset,a=Math.min(o+t,n.endContainer.length);n.setStart(n.startContainer,o),n.setEnd(n.endContainer,a);var u=n.toString();return n.setStart(n.startContainer,r),n.setEnd(n.endContainer,i),u}},{key:"getRectsOfSearchResult",value:function(){return getSelection().getRangeAt(0).getAdjustedClientRects()}},{key:"getPageOfSearchResult",value:function(){var e=this.getRectsOfSearchResult();return this.getPageFromRect(e[0])}},{key:"getRangeFromSerializedRange",value:function(e){var t=g.deserializeRange(e,this.content.body),n=document.createRange();return n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),t.detach(),n}},{key:"getRectsFromSerializedRange",value:function(e){var t=this.getRangeFromSerializedRange(e);return a.default.getOnlyTextNodeRectsFromRange(t)}},{key:"_rectsToCoord",value:function(e){var t={left:0,top:0};arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this.context.isScrollMode?t.top=this.pageYOffset:t.left=this.pageXOffset);for(var n="",r=0;r<e.length;r++){var o=e[r];n+=o.left+t.left+",",n+=o.top+t.top+",",n+=o.width+",",n+=o.height+","}return n}},{key:"rectsToAbsoluteCoord",value:function(e){return this._rectsToCoord(e,!0)}},{key:"rectsToRelativeCoord",value:function(e){return this._rectsToCoord(e)}}]),t}();n.default=f},{"./MutableClientRect":2,"./_Object":5,"./_Sel":7,"./_Util":8}],7:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(e("./_Object")),a=r(e("./_Util")),s=r(e("./tts/TTSUtil")),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._reader=e,n._maxLength=e.context.maxSelectionLength,n._startContainer=null,n._startOffset=null,n._endContainer=null,n._endOffset=null,n._overflowed=!1,n._nextPageContinuable=!1,n._continueContainer=null,n._continueOffset=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,[{key:"reader",get:function(){return this._reader}},{key:"nextPageContinuable",get:function(){return this._checkNextPageContinuable(this.getSelectedRange())}}]),o(t,[{key:"_caretRangeFromPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"word",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.reader.adjustPoint(e,t),i=document.caretRangeFromPoint(o.x,o.y);return null===i?null:(i.expand(n),!r&&i.collapsed?null:i)}},{key:"_expandRangeByWord",value:function(e){var t=e.startContainer;if(null!==t.nodeValue){var n=[s.default.chineseCodeTable(),s.default.japaneseCodeTable()];if(s.default.getContainCharRegex(n).test(e.toString()))return void e.expand("character");for(var r=t.nodeValue.length,o=e.startOffset,i=o;o>0;){if(/^\s/.test(e.toString())){e.setStart(t,o+=1);break}o-=1,e.setStart(t,o)}for(;i<r;){if(/\s$/.test(e.toString())){e.setEnd(t,i-=1);break}i+=1,e.setEnd(t,i)}}}},{key:"isOutOfBounds",value:function(){return!1}},{key:"startSelectionMode",value:function(e,t,n){var r=this._caretRangeFromPoint(e,t,n);return null!==r&&(this._expandRangeByWord(r),this._startContainer=r.startContainer,this._startOffset=r.startOffset,this._endContainer=r.endContainer,this._endOffset=r.endOffset,!0)}},{key:"changeInitialSelection",value:function(e,t,n){var r=this._caretRangeFromPoint(e,t,n);return null!==r&&(this._startContainer=r.startContainer,this._startOffset=r.startOffset,this._endContainer=r.endContainer,this._endOffset=r.endOffset,!0)}},{key:"expandUpperSelection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"character",r=this._caretRangeFromPoint(e,t,n,!0);if(null===r)return!1;var o=this._endContainer.compareDocumentPosition(r.startContainer);if(o===Node.DOCUMENT_POSITION_FOLLOWING||0===o&&this._endOffset<r.startOffset)return!1;if(r.startContainer===this._startContainer&&r.startOffset===this._startOffset)return!1;r.startContainer.childNodes.length&&r.setStart(r.startContainer.childNodes[r.startOffset],0),r.endContainer.childNodes.length&&r.setEnd(r.endContainer.childNodes[r.endOffset],r.endContainer.childNodes[r.endOffset].textContent.length);var i=document.createRange();return i.setStart(r.startContainer,r.startOffset),i.setEnd(this._endContainer,this._endOffset),!i.collapsed&&!!this.validLength(i)&&(this._startContainer=r.startContainer,this._startOffset=r.startOffset,!0)}},{key:"expandLowerSelection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"character",r=this._caretRangeFromPoint(e,t,n,!0);if(null===r)return!1;var o=this._startContainer.compareDocumentPosition(r.endContainer);if(o===Node.DOCUMENT_POSITION_PRECEDING||0===o&&this._startOffset>r.endOffset)return!1;if(r.endContainer===this._endContainer&&r.endOffset===this._endOffset)return!1;if(r.startContainer.childNodes.length&&r.setStart(r.startContainer.childNodes[r.startOffset],0),r.endContainer.childNodes.length&&r.setEnd(r.endContainer.childNodes[r.endOffset],r.endContainer.childNodes[r.endOffset].textContent.length),this.isOutOfBounds(r))return!1;var i=document.createRange();return i.setStart(this._startContainer,this._startOffset),i.setEnd(r.endContainer,r.endOffset),!i.collapsed&&!!this.validLength(i)&&(this._endContainer=r.endContainer,this._endOffset=r.endOffset,!0)}},{key:"_checkNextPageContinuable",value:function(e){if(!this.reader.context.isScrollMode){var t=this.getUpperBound(),n=e.cloneRange(),r=n.endContainer,o=n.endOffset;do{for(var i=r.textContent.length;i>o;){if(n.setStart(r,o),n.setEnd(r,o+1),!/\s/.test(n.toString()))return this._clientLeftOfRangeForCheckingNextPageContinuable(n)<t?(this._nextPageContinuable=!1,this._nextPageContinuable):(this._expandRangeBySentenceInPage(n,2*t),this._continueContainer=n.endContainer,this._continueOffset=n.endOffset,this._nextPageContinuable=!0,this._nextPageContinuable);o+=1}o=0,this._nextPageContinuable=!1}while(r=this._getNextTextNode(n))}return this._nextPageContinuable}},{key:"_expandRangeBySentenceInPage",value:function(e,t){var n=e.endOffset;e.expand("sentence");for(var r=e.endOffset;r>n;)if(/\s$/.test(e.toString()))e.setEnd(e.endContainer,r-=1);else{if(e.getAdjustedBoundingClientRect().right<=t)break;e.setEnd(e.endContainer,r-=1)}}},{key:"_getNextTextNode",value:function(e){var t=e.endContainer.nextSibling;return t?t.nodeType===Node.TEXT_NODE?t:a.default.createTextNodeIterator(t).nextNode()||(e.setEnd(t,0),this._getNextTextNode(e)):(e.setEndAfter(e.endContainer),"BODY"===e.endContainer.nodeName?null:this._getNextTextNode(e))}},{key:"expandSelectionIntoNextPage",value:function(){return!!this._nextPageContinuable&&(this._endContainer=this._continueContainer,this._endOffset=this._continueOffset,this._nextPageContinuable=!1,!0)}},{key:"validLength",value:function(e){return e.toString().length<=this._maxLength||(this._overflowed||a.default.toast("최대 "+this._maxLength+"자까지 선택할 수 있습니다."),this._overflowed=!0,!1)}},{key:"getSelectedRange",value:function(){var e=document.createRange();return e.setStart(this._startContainer,this._startOffset),e.setEnd(this._endContainer,this._endOffset),e}},{key:"getSelectedSerializedRange",value:function(){return g.serializeRange(this.getSelectedRange(),!0,this.reader.content.body)}},{key:"getSelectedRangeRects",value:function(){return t.getOnlyTextNodeRectsFromRange(this.getSelectedRange())}},{key:"getSelectedText",value:function(){return this.getSelectedRange().toString()}},{key:"getSelectedRectsCoord",value:function(){var e=this.getSelectedRangeRects();return e.length?(this._overflowed=!1,this.reader.rectsToAbsoluteCoord(e)):""}}],[{key:"_isWhiteSpaceRange",value:function(e){return/^\s*$/.test(e.toString())}},{key:"getOnlyTextNodeRectsFromRange",value:function(e){if(e.startContainer===e.endContainer){var t=e.startContainer.innerText;return void 0!==t&&0===t.length?[]:e.getAdjustedClientRects()}var n=a.default.createTextNodeIterator(e.commonAncestorContainer),r=[],o=document.createRange();o.setStart(e.startContainer,e.startOffset),o.setEnd(e.startContainer,e.startContainer.length),r=a.default.concatArray(r,o.getAdjustedClientRects());for(var i=void 0;i=n.nextNode();)if(e.startContainer.compareDocumentPosition(i)!==Node.DOCUMENT_POSITION_PRECEDING&&e.startContainer!==i){if(e.endContainer.compareDocumentPosition(i)===Node.DOCUMENT_POSITION_FOLLOWING||e.endContainer===i)break;(o=document.createRange()).selectNodeContents(i),this._isWhiteSpaceRange(o)||(r=a.default.concatArray(r,o.getAdjustedClientRects()))}return(o=document.createRange()).setStart(e.endContainer,0),o.setEnd(e.endContainer,e.endOffset),this._isWhiteSpaceRange(o)||(r=a.default.concatArray(r,o.getAdjustedClientRects())),r}}]),t}();n.default=c},{"./_Object":5,"./_Util":8,"./tts/TTSUtil":9}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r=e("./_Object"))&&r.__esModule?r:{default:r},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,null,[{key:"createTextNodeIterator",value:function(e){return document.createNodeIterator(e,NodeFilter.SHOW_TEXT,{acceptNode:function(){return NodeFilter.FILTER_ACCEPT}},!0)}},{key:"getFootnoteRegex",value:function(){return/^(\[|\{|\(|주|)[0-9].*(\)|\}|\]|\.|)$/gm}},{key:"getSplitWordRegex",value:function(){return new RegExp(" |\\u00A0")}},{key:"getImageSize",value:function(e){var n=e.attributes,r=document.createAttribute("size");return r.value="0px",{dWidth:e.width,dHeight:e.height,nWidth:e.naturalWidth,nHeight:e.naturalHeight,sWidth:t.getMatchedCSSValue(e,"width"),sHeight:t.getMatchedCSSValue(e,"height"),aWidth:(n.width||r).value,aHeight:(n.height||r).value}}},{key:"getStylePropertyIntValue",value:function(e,t){var n=e;return e.nodeType&&(n=window.getComputedStyle(e)),parseInt(n[t],10)||0}},{key:"getStylePropertiesIntValue",value:function(e,t){var n=e;e.nodeType&&(n=window.getComputedStyle(e));for(var r=0,o=0;o<t.length;o++)r+=parseInt(n[t[o]],10)||0;return r}},{key:"_getMatchedCSSValue",value:function(e,t){var n=e.style.getPropertyValue(t);if(e.style.getPropertyPriority(t))return n;var r=window.getMatchedCSSRules(e);if(null===r)return n;for(var o=r.length-1;o>=0;o--){var i=r[o],a=i.style.getPropertyPriority(t);if((null===n||0===n.length||a)&&(n=i.style.getPropertyValue(t),a))break}return n}},{key:"getMatchedCSSValue",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,o=e;!(r=this._getMatchedCSSValue(o,t))&&null!==(o=o.parentElement)&&n;);return r}},{key:"concatArray",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=0;r<t.length;r++)e.push(n(t[r]));return e}}]),t}();n.default=a},{"./_Object":5}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r=e("../_Util"))&&r.__esModule?r:{default:r},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"find",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}return null}},{key:"_createRegex",value:function(e,t,n,r){return new RegExp(""+(e||"")+(t||"")+(n||""),r||"gm")}},{key:"getSplitWordRegex",value:function(){return i.default.getSplitWordRegex()}},{key:"getWhitespaceRegex",value:function(e,t,n){return this._createRegex(e,"[ \\u00A0]",t,n)}},{key:"getNewLineRegex",value:function(e,t,n){return this._createRegex(e,"[\\r\\n]",t,n)}},{key:"getWhitespaceAndNewLineRegex",value:function(e,t,n){return this._createRegex(e,"[\\t\\r\\n\\s\\u00A0]",t,n)}},{key:"getSentenceRegex",value:function(e,t,n){return this._createRegex(e,"[.。?!\"”'’」』〞〟]",t,n)}},{key:"isLastCharOfSentence",value:function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(this.getSentenceRegex())}},{key:"isDigitOrLatin",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").charCodeAt(0);return this.isLatinCharCode(e)||this.isDigitCharCode(e)}},{key:"isPeriodPointOrName",value:function(e,t){if(void 0===e||void 0===t)return!1;var n=0,r=e.search(/[.](\s{0,})$/gm);return r>0&&this.isDigitOrLatin(e[r-1])&&(n+=1),(r=t.search(/[^\s]/gm))>=0&&this.isDigitOrLatin(t[r])&&(n+=1),2===n}},{key:"getBrackets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return e.match(/[\(\)\{\}\[\]]/gm)||[]}catch(e){return[]}}},{key:"isOnePairBracket",value:function(){return null!==((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")).match(/\(\)|\{\}|\[\]/gm)}},{key:"mergeSentencesWithinBrackets",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=[];return t.forEach(function(t){var o=r.length>0;e.getBrackets(t).forEach(function(t){var n=r.pop();n?e.isOnePairBracket(n,t)||(r.push(n),r.push(t)):r.push(t)}),n.push((o?n.pop():"")+t)}),r.length>0&&(console.error("Brackets does not match."),console.error({sentences:t,brackets:r,resultSentences:n})),n}},{key:"_containCharCode",value:function(e,t){if(!isNaN(e))for(var n=0;n<t.length;n+=2)if(t[n]<=e&&e<=t[n+1])return!0;return!1}},{key:"isDigitCharCode",value:function(e){return this._containCharCode(e,[48,57])}},{key:"isSpaceCharCode",value:function(e){return 32===e||160===e}},{key:"isTildeCharCode",value:function(e){return 126===e||8764===e||12316===e}},{key:"isColonCharCode",value:function(e){return 58===e}},{key:"hangulCodeTable",value:function(){return[44032,55215]}},{key:"isHangulCharCode",value:function(e){return this._containCharCode(e,this.hangulCodeTable())}},{key:"latinCodeTable",value:function(){return[32,127,160,255,256,383,384,591]}},{key:"isLatinCharCode",value:function(e,t){if(isNaN(e))return!1;if(e>=256&&e<=383){if("u"===t){if(e>=256&&e<=311&&e%2==0||e>=330&&e<=375&&e%2==0||e>=313&&e<=328&&e%2==1||e>=377&&e<=382&&e%2==1)return!0;if(376===e)return!0}else if("l"===t){if(e>=256&&e<=311&&e%2==1||e>=330&&e<=375&&e%2==1||e>=313&&e<=328&&e%2==0||e>=377&&e<=382&&e%2==0)return!0;if(312===e||329===e||383===e)return!0}return!1}if(e>=384&&e<=591)return!0;var n,r=[65,90,192,214,216,222],o=[97,122,223,246,248,255];return n="u"===t?r:"l"===t?o:[].concat(r).concat(o),this._containCharCode(e,n)}},{key:"chineseCodeTable",value:function(){return[19968,40959,63744,64255,13056,13311,13312,19903,131072,173791,173824,177983,177984,178207,178208,183983,183984,191471,194560,195103]}},{key:"isChineseCharCode",value:function(e){return this._containCharCode(e,this.chineseCodeTable())}},{key:"japaneseCodeTable",value:function(){return[12288,12351,12352,12447,12448,12543,65280,65519,19968,40959]}},{key:"isJapaneseCharCode",value:function(e){return this._containCharCode(e,this.japaneseCodeTable())}},{key:"getContainCharRegex",value:function(){var e=function(e){return e>65535?null:String.fromCharCode(e)},t="[";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(n){for(var r=0;r<n.length;r+=2){var o=e(n[r]),i=e(n[r+1]);o&&i&&(t+=o+"-"+i)}}),t+="]",new RegExp("^"+t+"{1,}$","gm")}},{key:"getInitialCharCode",value:function(e){return 12544+[49,50,52,55,56,57,65,66,67,70,71,72,73,74,75,76,77,78][(e-44032-(e-44032)%28)/28/21]}},{key:"getMedialCharCodeIndex",value:function(e){return(e-44032-(e-44032)%28)/28%21}},{key:"getMedialCharCode",value:function(e){return 12544+[79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99][this.getMedialCharCodeIndex(e)]}},{key:"getFinalCharCode",value:function(e){var t=(e-44032)%28;return(0===t?0:12544)+[0,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,68,69,70,71,72,74,75,76,77,78][t]}},{key:"numericToNotationString",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=void 0,o=void 0;t?(n=["","일","이","삼","사","오","육","칠","팔","구"],r=["","일","이","삼","사","오","육","칠","팔","구"],o=["십","일","이","삼","사","오","육","칠","팔","구"]):(n=["","one","two","three","four","five","six","seven","eight","nine"],r=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],o=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"]);var i=function(e){if(e<10)return n[e];if(!t&&e>=10&&e<20)return o[e-10];if(t&&e<20)return"십"+n[e%10];var i=t?"십":" ";return""+r[Math.floor(e/10)]+i+n[e%10]},a=function(e){if(e>99){if(t&&e<200)return"백"+i(e%100);var r=t?"백":" hundred ";return""+n[Math.floor(e/100)]+r+i([e%100])}return i(e)},u=function e(n){if(n>=1e3){if(t&&n<2e3)return"천"+a(n%1e3);var r=t?"천":" thousand ";return""+e(Math.floor(n/1e3))+r+a([n%1e3])}return a(n)};return 0===e?t?"영":"zero":function e(n){var r=t?1e4:1e6;if(n>=r){if(t&&n<2*r)return"만"+u(n%r);var o=t?"만":" million ";return""+e(Math.floor(n/r))+o+u([n%r])}return u(n)}(e).trim()}},{key:"numericToOrdinalString",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=["","한","두","세","네","다섯","여섯","일곱","여덟","아홉"],o=["","하나","둘","셋","넷","다섯","여섯","일곱","여덟","아홉"],i=["","열","스물","서른","마흔","쉰","예순","일흔","여든","아흔"],a=null!==n.match(/^(명|공|달|시|종|벌|채|갈|쾌|근|문|큰|살|째)(?!러)/gm);if(!a&&n.length)return null;var u,l=function(e){if(e<10)return r[e];var t=a?r[e%10]:o[e%10];return""+i[Math.floor(e/10)]+t},s=function(e){return e>99?e<200?"백"+l(e%100):t.numericToNotationString(Math.floor(e/100))+"백"+l(e%100):l(e)},c=function(e){return e>=1e3?e<2e3?"천"+s(e%1e3):t.numericToNotationString(Math.floor(e/1e3))+"천"+s(e%1e3):s(e)};return 0===e?null:(u=e)>=1e4?u<2e4?"만"+c(u%1e4):t.numericToNotationString(Math.floor(u/1e4))+"만"+c(u%1e4):c(u)}}]),e}();n.default=a},{"../_Util":8}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r=e("../common/_Content"))&&r.__esModule?r:{default:r},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,i.default),o(t,[{key:"fetchNodes",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetchNodes",this).call(this,!0)}}]),t}();n.default=a},{"../common/_Content":3}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=(r=e("../common/_Context"))&&r.__esModule?r:{default:r},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,o.default),t}();n.default=i},{"../common/_Context":4}],12:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=r(e("../common/_Reader")),s=r(e("./Content")),c=r(e("../common/Chrome")),f=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o._content=new s.default(e);var i=new c.default(o,r);return i.version&&(o._chrome=i,o.chrome.addScrollListenerIfNeeded()),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,a.default),i(t,[{key:"chrome",get:function(){return this._chrome}},{key:"htmlClientWidth",get:function(){return document.documentElement.clientWidth}},{key:"bodyClientWidth",get:function(){return this.content.wrapper.clientWidth}}]),i(t,[{key:"adjustPoint",value:function(e,n){return this.chrome?this.chrome.adjustPoint(this,e,n):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"adjustPoint",this).call(this,e,n)}},{key:"adjustRect",value:function(e){return this.chrome?this.chrome.adjustRect(this,e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"adjustRect",this).call(this,e)}},{key:"setViewport",value:function(){}},{key:"unmount",value:function(){this.chrome&&this.chrome.removeScrollListenerIfNeeded()}},{key:"getPageFromRect",value:function(e,t){if(null===e)return null;var n=this.getOffsetDirectionFromElement(t),r=e[n]+this.pageOffset,o="left"===n?this.context.pageWidthUnit:this.context.pageHeightUnit;return Math.floor(r/o)}},{key:"getNodeLocationOfCurrentPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=this.context.pageUnit,r="-1"+t+"-1",o=this.findNodeLocation(0,n,e,t);return this.showNodeLocationIfNeeded(),o||r}}]),t}();n.default=f},{"../common/Chrome":1,"../common/_Reader":6,"./Content":10}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,o=(r=e("../common/_Util"))&&r.__esModule?r:{default:r},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):l(e,t))}(t,o.default),t}();n.default=i},{"../common/_Util":8}],14:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Reader=n.Context=void 0;var o=r(e("./Context")),i=r(e("./Reader")),a=r(e("./Util"));n.Context=o.default,n.Reader=i.default,n.Util=a.default,n.default={Context:o.default,Reader:i.default,Util:a.default}},{"./Context":11,"./Reader":12,"./Util":13}]},{},[14])(14),"function"!=typeof window.getMatchedCSSRules){var f=/[\w-]+/g,d=/#[\w-]+/g,p=/\.[\w-]+/g,h=/\[[^\]]+\]/g,v=/\:(?!not)[\w-]+(\(.*\))?/g,m=/\:\:?(after|before|first-letter|first-line|selection)/g;window.getMatchedCSSRules=function(e){var t,n,r,a,u=[];for(t=o(window.document.styleSheets);n=t.shift();)for(r=i(n);a=r.shift();)a.styleSheet?r=i(a.styleSheet).concat(r):a.media?r=i(a).concat(r):e.webkitMatchesSelector(a.selectorText)&&u.push(a);return function(e,t){return u.sort(function(t,n){return c(e,n.selectorText)-c(e,t.selectorText)})}(e)}}"function"!=typeof Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t});var y=function(){var e=null;return function(t){for(var n=function(e){for(var t,n=[],r=0,o=e.length;r<o;++r)(t=e.charCodeAt(r))<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}(t),r=-1,o=(e||(e=function(){for(var e,t,n=[],r=0;r<256;++r){for(t=r,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[r]=t>>>0}return n}()),e),i=0,a=n.length;i<a;++i)r=r>>>8^o[255&(r^n[i])];return(-1^r)>>>0}}(),g={nodeToInfoString:function(e,t){var n=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")};t=t||[];var r=e.nodeType,o=e.childNodes,i=o.length,a=[r,e.nodeName,i].join(":"),u="",l="";switch(r){case 3:u=n(e.nodeValue);break;case 8:u="\x3c!--"+n(e.nodeValue)+"--\x3e";break;default:u="<"+a+">",l="</>"}u&&t.push(u);for(var s=0;s<i;++s)g.nodeToInfoString(o[s],t);return l&&t.push(l),t},getElementChecksum:function(e){var t=g.nodeToInfoString(e).join("");return y(t).toString(16)},getDocument:function(e){if(9==e.nodeType)return e;if(void 0!==e.ownerDocument)return e.ownerDocument;if(void 0!==e.document)return e.document;if(e.parentNode)return g.getDocument(e.parentNode);throw new Error("Error in Rangy: getDocument: no document found for node")},getNodeIndex:function(e){for(var t=0;e=e.previousSibling;)++t;return t},getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},serializePosition:function(e,t,n){var r=[],o=e;for(n=n||g.getDocument(e).documentElement;o&&o!=n;)r.push(g.getNodeIndex(o,!0)),o=o.parentNode;return r.join("/")+":"+t},serializeRange:function(e,t,n){if(!function(e,t,n){for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}(n=n||g.getDocument(e).startContainer,e.commonAncestorContainer))throw new Error("Error in Rangy: serializeRange(): range is not wholly contained within specified root node.");var r=g.serializePosition(e.startContainer,e.startOffset,n)+","+g.serializePosition(e.endContainer,e.endOffset,n);return t||(r+="{"+g.getElementChecksum(n)+"}"),r},deserializePosition:function(e,t,n){t||(t=(n||document).documentElement);for(var r,o=e.split(":"),i=t,a=o[0]?o[0].split("/"):[],u=a.length;u--;){if(!((r=parseInt(a[u],10))<i.childNodes.length))throw new Error("Error in Rangy: deserializePosition() failed: node has no child with index "+r+", "+u+".");i=i.childNodes[r]}return{node:i,offset:parseInt(o[1],10)}},deserializeRegex:/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/,deserializeRange:function(e,t,n){t?n=n||g.getDocument(t):t=(n=n||document).documentElement;var r,o=g.deserializeRegex.exec(e),i=o[4];if(i&&i!==(r=g.getElementChecksum(t)))throw new Error("deserializeRange: checksums of serialized range root node ("+i+") and target root node ("+r+") do not match");var a=g.deserializePosition(o[1],t,n),u=g.deserializePosition(o[2],t,n),l=document.createRange();return l.setStart(a.node,a.offset),l.setEnd(u.node,u.offset),l},canDeserializeRange:function(e,t,n){t||(t=(n||document).documentElement);var r=g.deserializeRegex.exec(e)[3];return!r||r===g.getElementChecksum(t)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),o=n(1),i=n(5),a=n(10),u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._node=t,this._context=this._createContext(n),this._readerJs=new r.Reader(this._node,this._context),this.setDebugMode(!1)}return e.prototype._createContext=function(e){var t=r.Util.getStylePropertyIntValue(this._node,"column-gap"),n=(0,i.screenWidth)()-t,o=(0,i.screenHeight)();return new r.Context(n,o,t,!1,e)},e.prototype.invalidateContext=function(e){this._context=this._createContext(e),this._readerJs.changeContext(this._context)},e.prototype.setDebugMode=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._readerJs.debugNodeLocation=e},e.prototype.getOffsetFromNodeLocation=function(e){return(0,o.isExist)(e)&&e!==a.EMPTY_READ_LOCATION?this._readerJs.getOffsetFromNodeLocation(e,"top"):null},e.prototype.getNodeLocationOfCurrentPage=function(){return this._readerJs.getNodeLocationOfCurrentPage("top")},e}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(19)),o=n(6),i=n(9),a=f(n(15)),l=n(7),s=f(n(45)),c=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.setReaderJs=function(){var e=(0,o.selectReaderSetting)(this.getState()).viewType,t=document.querySelector("."+c.READERJS_CONTENT_WRAPPER);if(t){var n=new s.default(t,e===c.ViewType.SCROLL);this.readerJs=n}else this.readerJs=null},t.prototype.updateCurrentPosition=function(e){if(a.default.isCompleted()){var t=(0,o.selectReaderSetting)(this.getState()).viewType,n=a.default.getIndexAtOffset(e),r=a.default.getTotal(n),u=(e-a.default.getStartOffset(n))/r,l=c.EMPTY_READ_LOCATION;this.readerJs&&(l=this.readerJs.getNodeLocationOfCurrentPage()),this.dispatch((0,i.updateCurrent)({contentIndex:n,offset:e,position:u,viewType:t,location:l}))}},t.prototype.restoreCurrentOffset=function(){if(a.default.isCompleted()){var e=(0,o.selectReaderSetting)(this.getState()).viewType,t=(0,o.selectReaderCurrent)(this.getState()),n=t.position,r=t.contentIndex,u=a.default.getTotal(r),l=a.default.getStartOffset(r)+(u-1),s=Math.min(Math.round(n*u)+a.default.getStartOffset(r),l);this.dispatch((0,i.updateCurrent)({offset:s,viewType:e}))}},t.prototype.isOnFooter=function(){return!!a.default.getHasFooter()&&!!a.default.isCompleted()&&(0,o.selectReaderCurrentContentIndex)(this.getState())===l.FOOTER_INDEX},t}(r.default);t.default=new d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StyledScrollFooter=t.StyledPageFooter=void 0;var r,o=u(["\n  box-sizing: border-box;\n  visibility: ",";\n"],["\n  box-sizing: border-box;\n  visibility: ",";\n"]),i=u(["\n  vertical-align: top;\n  white-space: initial;\n  overflow: auto;\n  display: inline-block;\n  width: ",";\n"],["\n  vertical-align: top;\n  white-space: initial;\n  overflow: auto;\n  display: inline-block;\n  width: ",";\n"]),a=u(["\n  position: absolute;\n  top: ",";\n  margin: ",";\n  width: 100%;\n"],["\n  position: absolute;\n  top: ",";\n  margin: ",";\n  width: 100%;\n"]);function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=((r=n(18))&&r.__esModule?r:{default:r}).default.section(o,function(e){return e.visible?"visible":"hidden"});t.StyledPageFooter=l.extend(i,function(e){return e.width}),t.StyledScrollFooter=l.extend(a,function(e){return e.startOffset+"px"},function(e){return e.containerVerticalMargin+"px 0"})},function(e,t,n){
/** @license React v16.4.1
     * react-is.production.min.js
     *
     * Copyright (c) 2013-present, Facebook, Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */
Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,f=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.timeout"):60113;function v(e){if("object"==(void 0===e?"undefined":u(e))&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case a:case s:case l:return e;default:switch(e=e&&e.$$typeof){case f:case p:case c:return e;default:return t}}case i:return t}}}t.typeOf=v,t.AsyncMode=d,t.ContextConsumer=f,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Profiler=s,t.Portal=i,t.StrictMode=l,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===s||e===l||e===h||"object"==(void 0===e?"undefined":u(e))&&null!==e&&(e.$$typeof===c||e.$$typeof===f||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)===d},t.isContextConsumer=function(e){return v(e)===f},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"==(void 0===e?"undefined":u(e))&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isProfiler=function(e){return v(e)===s},t.isPortal=function(e){return v(e)===i},t.isStrictMode=function(e){return v(e)===l}},function(e,t,n){
/*!
     * isobject <https://github.com/jonschlinkert/isobject>
     *
     * Copyright (c) 2014-2017, Jon Schlinkert.
     * Released under the MIT License.
     */
e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":u(e))&&!1===Array.isArray(e)}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,s=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?s=l.concat(s):f=-1,s.length&&p())}function p(){if(!c){var e=u(d);c=!0;for(var t=s.length;t;){for(l=s,s=[];++f<t;)l&&l[f].run();f=-1,t=s.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||c||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StyledImagePageTouchable=t.StyledHtmlPageTouchable=t.StyledImageScrollTouchable=t.StyledHtmlScrollTouchable=void 0;var r=f(["\n  box-sizing: border-box;\n"],["\n  box-sizing: border-box;\n"]),o=f([""],[""]),i=f(["\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 0px;\n  letter-spacing: 0;\n  word-spacing: 0;\n  height: ","\n  \n  .page_move_button {\n    position: fixed;\n    top: 0;\n    display: block;\n    height: 100%;\n    width: ",";\n    cursor: default;\n    background: transparent;\n    border: 0;\n    z-index: 1;\n    \n    &.left_button {\n      left: 0;\n    }\n    &.right_button {\n      right: 0;\n    }\n  }\n"],["\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 0px;\n  letter-spacing: 0;\n  word-spacing: 0;\n  height: ","\n  \n  .page_move_button {\n    position: fixed;\n    top: 0;\n    display: block;\n    height: 100%;\n    width: ",";\n    cursor: default;\n    background: transparent;\n    border: 0;\n    z-index: 1;\n    \n    &.left_button {\n      left: 0;\n    }\n    &.right_button {\n      right: 0;\n    }\n  }\n"]),a=f(["\n   min-height: calc(100vh + 100px);\n   height: ",";\n"],["\n   min-height: calc(100vh + 100px);\n   height: ",";\n"]),u=c(n(18)),l=c(n(3)),s=n(5);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=u.default.div(r),p=d.extend(o),h=d.extend(i,function(){return(0,s.screenHeight)()+"px"},function(){return l.default.setting.getSideTouchWidth(!0)});t.StyledHtmlScrollTouchable=p.extend(a,function(e){return e.total+2*l.default.setting.getContainerVerticalMargin()+"px"}),t.StyledImageScrollTouchable=p.extend(o),t.StyledHtmlPageTouchable=h.extend(o),t.StyledImagePageTouchable=h.extend(o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(19)),o=n(5),i=n(29),a=n(8),l=n(10),s=n(6),c=n(9),f=n(52),d=n(17),p=n(47),h=v(n(15));function v(e){return e&&e.__esModule?e:{default:e}}var m=["viewType","font","fontSizeInPx","contentPaddingInPercent","contentWidthInPercent","lineHeightInEm","columnsInPage","columnGapInPercent","startWithBlankPage","containerHorizontalMargin","containerVerticalMargin","maxWidth"],y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.getMaxWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).maxWidth;return e?t+"px":t},t.prototype.getExtendedSideTouchWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).extendedSideTouchWidth;return e?t+"px":t},t.prototype.getSideTouchWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,o.screenWidth)();return t>=2*(this.getMaxWidth()-this.getExtendedSideTouchWidth())?(t-this.getMaxWidth())/2+this.getExtendedSideTouchWidth()+"px":e?.25*t+"px":.25*t},t.prototype.getContainerWidthInternal=function(){var e=(0,s.selectReaderContentFormat)(this.getState()),t=(0,s.selectReaderSetting)(this.getState()),n=t.containerHorizontalMargin,r=t.viewType,i=t.contentPaddingInPercent,u=(0,o.screenWidth)(),c=u-2*n;return e===a.ContentFormat.HTML?u-2*Math.ceil(c*(i/100)):e===a.ContentFormat.IMAGE&&r===l.ViewType.SCROLL?c:e===a.ContentFormat.IMAGE&&r===l.ViewType.PAGE?u:null},t.prototype.getContainerWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getContainerWidthInternal();return null!==t?e?t+"px":t:"auto"},t.prototype.getContainerHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderContentFormat)(this.getState()),n=(0,s.selectReaderSetting)(this.getState()).viewType,r=(0,o.screenHeight)();if(t===a.ContentFormat.HTML&&n===l.ViewType.PAGE){var i=r-2*this.getContainerVerticalMargin();return e?i+"px":i}return t===a.ContentFormat.IMAGE&&n===l.ViewType.PAGE?e?r+"px":r:"auto"},t.prototype.getContentWidth=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,s.selectReaderSetting)(this.getState()),r=n.viewType,o=n.contentWidthInPercent;if((0,s.selectReaderContentFormat)(this.getState())===a.ContentFormat.HTML){if(r===l.ViewType.SCROLL)return t?"100%":100;if(r===l.ViewType.PAGE){if(h.default.isCalculated(e)){var i=h.default.getTotal(e),u=this.getContainerWidthInternal()*i+this.getColumnGap()*(i-1);return t?u+"px":u}return"auto"}}return t?o+"%":o},t.prototype.getFont=function(){return(0,s.selectReaderSetting)(this.getState()).font||i.DEFAULT_FONT},t.prototype.getFontSize=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).fontSizeInPx;return e?t+"px":t},t.prototype.getLineHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).lineHeightInEm;return e?t+"em":t},t.prototype.getColumnGap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,s.selectReaderContentFormat)(this.getState())===a.ContentFormat.HTML){var t=(0,s.selectReaderSetting)(this.getState()).columnGapInPercent,n=Math.ceil((0,o.screenWidth)()*(t/100));return e?n+"px":n}return e?"0px":0},t.prototype.getContainerVerticalMargin=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).containerVerticalMargin;return e?t+"px":t},t.prototype.getContainerHorizontalMargin=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getContainerWidthInternal(),n=((0,o.screenWidth)()-t)/2;return e?n+"px":n},t.prototype.getColumnWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).columnsInPage,n=(0,s.selectReaderContentFormat)(this.getState()),r=this.getContainerWidthInternal();return n===a.ContentFormat.HTML?(r-this.getColumnGap()*(t-1))/t+"px":e?r/t+"px":r/t},t.prototype.getContentFooterHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.selectReaderSetting)(this.getState()).contentFooterHeight;return e?t+"px":t},t.prototype.getChapterIndicatorId=function(e){return""+i.CHAPTER_INDICATOR_ID_PREFIX+e},t.prototype.getChapterId=function(e){return""+i.CHAPTER_ID_PREFIX+e},t.prototype.getStyledTouchable=function(){var e=(0,s.selectReaderContentFormat)(this.getState()),t=(0,s.selectReaderSetting)(this.getState()).viewType;return e===a.ContentFormat.HTML&&t===l.ViewType.SCROLL?f.StyledHtmlScrollTouchable:e===a.ContentFormat.HTML&&t===l.ViewType.PAGE?f.StyledHtmlPageTouchable:e===a.ContentFormat.IMAGE&&t===l.ViewType.SCROLL?f.StyledImageScrollTouchable:e===a.ContentFormat.IMAGE&&t===l.ViewType.PAGE?f.StyledImagePageTouchable:null},t.prototype.getStyledContent=function(){var e=(0,s.selectReaderContentFormat)(this.getState()),t=(0,s.selectReaderSetting)(this.getState()).viewType;return e===a.ContentFormat.HTML&&t===l.ViewType.SCROLL?d.StyledHtmlScrollContent:e===a.ContentFormat.HTML&&t===l.ViewType.PAGE?d.StyledHtmlPageContent:e===a.ContentFormat.IMAGE&&t===l.ViewType.SCROLL?d.StyledImageScrollContent:e===a.ContentFormat.IMAGE&&t===l.ViewType.PAGE?d.StyledImagePageContent:null},t.prototype.getStyledFooter=function(){var e=(0,s.selectReaderSetting)(this.getState()).viewType;return e===l.ViewType.SCROLL?p.StyledScrollFooter:e===l.ViewType.PAGE?p.StyledPageFooter:null},t.prototype.updateSetting=function(e){this.dispatch((0,c.updateSetting)(e)),Object.keys(e).some(function(e){return m.includes(e)})&&h.default.invalidate()},t}(r.default);t.default=new y},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){e.exports=function(e,t,n,r,o,i,a,u){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],c=0;(l=new Error(t.replace(/%s/g,function(){return s[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){var r=n(56),o=n(55),i=n(54);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=_(n(0)),o=n(13),i=n(6),a=n(5),l=n(4),s=_(l),c=n(16),f=_(c),d=_(n(3)),p=_(n(14)),h=n(28),v=_(h),m=n(8),y=n(1),g=_(n(42)),b=n(7),C=n(11);function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.calculate=r.calculate.bind(r),r.onContentFooterRendered=r.onContentFooterRendered.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.calculate=function(e,t){var n=Math.ceil(t.scrollWidth/(d.default.setting.getContainerWidth()+d.default.setting.getColumnGap()));d.default.calculations.setTotal(e,n)},t.prototype.onTouchableScreenTouched=function(t){var n=t.position;e.prototype.onTouchableScreenTouched.call(this,{position:n});var r=this.props,o=r.bindingType,i=r.calculationsTotal,a=r.onMoveWrongDirection,u=this.props.current.offset;if(n!==h.Position.MIDDLE)if(n!==h.Position.RIGHT||o!==m.BindingType.RIGHT||0!==u){var l=u;n===h.Position.LEFT?l=o===m.BindingType.LEFT?u-1:u+1:n===h.Position.RIGHT&&(l=o===m.BindingType.LEFT?u+1:u-1),u!==(l=Math.max(0,Math.min(l,i-1)))&&d.default.current.updateCurrentPosition(l)}else(0,y.isExist)(a)&&a()},t.prototype.getTouchableScreen=function(){return v.default},t.prototype.moveToOffset=function(){var e=this.props.current.contentIndex;(0,a.setScrollTop)(0),e===b.FOOTER_INDEX?this.wrapper.current.scrollLeft=this.wrapper.current.scrollWidth:this.wrapper.current.scrollLeft=0},t.prototype.onContentFooterRendered=function(){var e=d.default.calculations.getHasFooter();d.default.calculations.setTotal(b.FOOTER_INDEX,e?1:0)},t.prototype.needRender=function(e){var t=this.props.current,n=d.default.calculations.isCalculated(e.index);return t.contentIndex===e.index||!n},t.prototype.renderFooter=function(){var e=this.props.footer,t=this.props.setting.containerVerticalMargin,n=d.default.calculations.getStartOffset(b.FOOTER_INDEX);return r.default.createElement(p.default,{content:e,startOffset:n,onContentRendered:this.onContentFooterRendered,containerVerticalMargin:t})},t.prototype.renderContent=function(e){var t=this.props,n=t.current,o=t.contentFooter,i=d.default.calculations.getStartOffset(e.index),a=n.contentIndex===e.index,u=d.default.calculations.isLastContent(e.index);return r.default.createElement(g.default,{className:a?C.READERJS_CONTENT_WRAPPER:null,key:e.uri+":"+e.index,content:e,isCalculated:d.default.calculations.isCalculated(e.index),startOffset:i,localOffset:a?n.offset-i:C.INVALID_OFFSET,onContentLoaded:this.onContentLoaded,onContentError:this.onContentError,onContentRendered:this.calculate,contentFooter:u?o:null})},t.prototype.renderContents=function(){var e=this;return this.props.contents.filter(function(t){return e.needRender(t)}).map(function(t){return e.renderContent(t)})},t}(f.default);E.defaultProps=Object.assign({},f.default.defaultProps,{footer:null,contentFooter:null,onMoveWrongDirection:null}),E.propTypes=Object.assign({},f.default.propTypes,{contentsCalculations:s.default.arrayOf(l.ContentCalculationsType).isRequired,footer:s.default.node,contentFooter:s.default.node,footerCalculations:l.FooterCalculationsType.isRequired,bindingType:s.default.oneOf(m.BindingType.toList()).isRequired,calculationsTotal:s.default.number.isRequired,onMoveWrongDirection:s.default.func}),t.default=(0,o.connect)(function(e){return Object.assign({},(0,c.mapStateToProps)(e),{contentsCalculations:(0,i.selectReaderContentsCalculations)(e),calculationsTotal:(0,i.selectReaderCalculationsTotal)(e),footerCalculations:(0,i.selectReaderFooterCalculations)(e),bindingType:(0,i.selectReaderBindingType)(e)})},function(e){return Object.assign({},(0,c.mapDispatchToProps)(e))})(E)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(0)),o=n(13),i=g(n(58)),a=g(n(41)),l=n(6),s=n(4),c=g(s),f=n(8),d=n(10),p=g(n(15)),h=n(1),v=g(n(39)),m=g(n(38)),y=g(n(37));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,e.call(this,n));return p.default.setHasFooter(!!n.footer),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}(t,e),t.prototype.componentDidMount=function(){var e=this.props.onMount;(0,h.isExist)(e)&&e()},t.prototype.componentWillUnmount=function(){var e=this.props.onUnmount;(0,h.isExist)(e)&&e()},t.prototype.onScreenTouched=function(){var e=this.props.onTouched;(0,h.isExist)(e)&&e()},t.prototype.getScreen=function(){var e=this.props.setting.viewType,t=this.props.contentFormat;return e===d.ViewType.SCROLL?t===f.ContentFormat.HTML?a.default:v.default:t===f.ContentFormat.HTML?i.default:m.default},t.prototype.render=function(){var e=this,t=this.props,n=t.footer,o=t.contentFooter,i=t.onMoveWrongDirection,a={footer:n,contentFooter:o,ignoreScroll:t.ignoreScroll,disableCalculation:t.disableCalculation,onTouched:function(){return e.onScreenTouched()},onMoveWrongDirection:i};o&&(a.contentFooter=r.default.createElement(y.default,{content:o}));var u=this.getScreen();return r.default.createElement(u,a)},t}(r.default.Component);b.defaultProps={footer:null,contentFooter:null,onTouched:null,onMoveWrongDirection:null,onMount:null,onUnmount:null,ignoreScroll:!1,disableCalculation:!1},b.propTypes={setting:s.SettingType,footer:c.default.node,contentFooter:c.default.node,onTouched:c.default.func,onMoveWrongDirection:c.default.func,onMount:c.default.func,onUnmount:c.default.func,ignoreScroll:c.default.bool,disableCalculation:c.default.bool,contentFormat:c.default.oneOf(f.ContentFormat.toList()).isRequired},t.default=(0,o.connect)(function(e){return{setting:(0,l.selectReaderSetting)(e),contentFormat:(0,l.selectReaderContentFormat)(e)}})(b)},function(e,t,n){function r(e,t){return e===t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=0,l=r.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return void 0===e?"undefined":u(e)}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),c=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(n)),f=o(function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return c.apply(null,e)});return f.resultFunc=l,f.recomputations=function(){return a},f.resetRecomputations=function(){return a=0},f}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=(void 0===e?"undefined":u(e)))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+(void 0===e?"undefined":u(e)));var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var a=t.createSelector=i(o)}])},"object"==u(t)&&"object"==u(e)?e.exports=a(n(47),n(155)):(o=[n(47),n(155)],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}).call(this,n(150)(e))},,,,,,,,function(e,t,n){e.exports=n(492)()},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),i=n.n(o),a=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),u=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",o=function(e){function o(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i[t]=n.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.prototype.render=function(){return r.Children.only(this.props.children)},o}(r.Component);return o.propTypes={store:u.isRequired,children:i.a.element.isRequired},o.childContextTypes=((e={})[t]=u.isRequired,e[n]=a,e),o}var s=l(),c=n(219),f=n.n(c),d=n(106),p=n.n(d);var h=null,v={notify:function(){}};var m=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=v}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=h,e=h},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==h&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=v)},e}(),y=Object.assign
